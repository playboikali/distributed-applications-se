2024-05-25 13:28:24.413 +03:00 [INF] Application is starting!
2024-05-25 13:28:25.034 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-25 13:28:25.116 +03:00 [DBG] Hosting starting
2024-05-25 13:28:25.156 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-25 13:28:25.159 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-25 13:28:25.179 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-25 13:28:25.191 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-25 13:28:25.195 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 13:28:25.197 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-25 13:28:25.199 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 13:28:25.203 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-25 13:28:25.204 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-25 13:28:25.206 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-25 13:28:25.207 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-25 13:28:25.336 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-25 13:28:25.337 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-25 13:28:25.338 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-25 13:28:25.338 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-25 13:28:25.339 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-25 13:28:25.340 +03:00 [INF] Hosting environment: Development
2024-05-25 13:28:25.340 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-25 13:28:25.341 +03:00 [DBG] Hosting started
2024-05-25 13:28:25.644 +03:00 [DBG] Connection id "0HN3SKLKJE8L8" accepted.
2024-05-25 13:28:25.644 +03:00 [DBG] Connection id "0HN3SKLKJE8L7" accepted.
2024-05-25 13:28:25.645 +03:00 [DBG] Connection id "0HN3SKLKJE8L8" started.
2024-05-25 13:28:25.645 +03:00 [DBG] Connection id "0HN3SKLKJE8L7" started.
2024-05-25 13:28:27.834 +03:00 [DBG] Connection id "0HN3SKLKJE8L9" accepted.
2024-05-25 13:28:27.836 +03:00 [DBG] Connection id "0HN3SKLKJE8L9" started.
2024-05-25 13:28:27.836 +03:00 [DBG] Connection id "0HN3SKLKJE8LA" accepted.
2024-05-25 13:28:27.839 +03:00 [DBG] Connection id "0HN3SKLKJE8LA" started.
2024-05-25 13:28:28.182 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-25 13:28:28.251 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-25 13:28:28.297 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-25 13:28:28.301 +03:00 [DBG] Request did not match any endpoints
2024-05-25 13:28:28.527 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-25 13:28:28.734 +03:00 [DBG] Connection id "0HN3SKLKJE8LB" accepted.
2024-05-25 13:28:28.735 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-25 13:28:28.737 +03:00 [DBG] Connection id "0HN3SKLKJE8LB" started.
2024-05-25 13:28:28.743 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-25 13:28:28.746 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-25 13:28:28.747 +03:00 [DBG] Connection id "0HN3SKLKJE8LA" completed keep alive response.
2024-05-25 13:28:28.748 +03:00 [DBG] Connection id "0HN3SKLKJE8L9" completed keep alive response.
2024-05-25 13:28:28.755 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 574.9938ms
2024-05-25 13:28:28.755 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 14.8392ms
2024-05-25 13:28:28.811 +03:00 [DBG] Connection id "0HN3SKLKJE8LB" completed keep alive response.
2024-05-25 13:28:28.815 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.3981ms
2024-05-25 13:28:28.925 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-25 13:28:28.927 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-25 13:28:28.928 +03:00 [DBG] Request did not match any endpoints
2024-05-25 13:28:29.117 +03:00 [DBG] Connection id "0HN3SKLKJE8LB" completed keep alive response.
2024-05-25 13:28:29.119 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.3778ms
2024-05-25 13:28:30.138 +03:00 [DBG] Connection id "0HN3SKLKJE8LB" received FIN.
2024-05-25 13:28:30.138 +03:00 [DBG] Connection id "0HN3SKLKJE8L9" received FIN.
2024-05-25 13:28:30.138 +03:00 [DBG] Connection id "0HN3SKLKJE8LA" received FIN.
2024-05-25 13:28:30.140 +03:00 [DBG] Connection id "0HN3SKLKJE8LB" disconnecting.
2024-05-25 13:28:30.140 +03:00 [DBG] Connection id "0HN3SKLKJE8L9" disconnecting.
2024-05-25 13:28:30.198 +03:00 [DBG] Connection id "0HN3SKLKJE8LA" sending FIN because: "The client closed the connection."
2024-05-25 13:28:30.199 +03:00 [DBG] Connection id "0HN3SKLKJE8LB" sending FIN because: "The client closed the connection."
2024-05-25 13:28:30.199 +03:00 [DBG] Connection id "0HN3SKLKJE8L9" sending FIN because: "The client closed the connection."
2024-05-25 13:28:30.200 +03:00 [DBG] Connection id "0HN3SKLKJE8LA" disconnecting.
2024-05-25 13:28:30.205 +03:00 [DBG] Connection id "0HN3SKLKJE8LA" stopped.
2024-05-25 13:28:30.214 +03:00 [DBG] Connection id "0HN3SKLKJE8LB" stopped.
2024-05-25 13:28:30.214 +03:00 [DBG] Connection id "0HN3SKLKJE8L9" stopped.
2024-05-25 13:33:50.580 +03:00 [DBG] Connection id "0HN3SKLKJE8LC" accepted.
2024-05-25 13:33:50.583 +03:00 [DBG] Connection id "0HN3SKLKJE8LC" started.
2024-05-25 13:33:50.584 +03:00 [DBG] Connection id "0HN3SKLKJE8LD" accepted.
2024-05-25 13:33:50.585 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-25 13:33:50.586 +03:00 [DBG] Connection id "0HN3SKLKJE8LD" started.
2024-05-25 13:33:50.587 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-25 13:33:50.587 +03:00 [DBG] Request did not match any endpoints
2024-05-25 13:33:50.589 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-25 13:33:50.597 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-25 13:33:50.598 +03:00 [DBG] Connection id "0HN3SKLKJE8LC" completed keep alive response.
2024-05-25 13:33:50.599 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 13.8784ms
2024-05-25 13:33:50.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-25 13:33:50.625 +03:00 [DBG] Connection id "0HN3SKLKJE8LC" completed keep alive response.
2024-05-25 13:33:50.626 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 1.6489ms
2024-05-25 13:33:50.646 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-25 13:33:50.655 +03:00 [DBG] Connection id "0HN3SKLKJE8LC" completed keep alive response.
2024-05-25 13:33:50.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.3206ms
2024-05-25 13:33:51.202 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-25 13:33:51.203 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-25 13:33:51.204 +03:00 [DBG] Request did not match any endpoints
2024-05-25 13:33:51.207 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/favicon-32x32.png - -
2024-05-25 13:33:51.208 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-25 13:33:51.209 +03:00 [DBG] Request did not match any endpoints
2024-05-25 13:33:51.215 +03:00 [DBG] Connection id "0HN3SKLKJE8LC" completed keep alive response.
2024-05-25 13:33:51.216 +03:00 [INF] The file /favicon-32x32.png was not modified
2024-05-25 13:33:51.216 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 13.5604ms
2024-05-25 13:33:51.219 +03:00 [DBG] Handled. Status code: 304 File: /favicon-32x32.png
2024-05-25 13:33:51.220 +03:00 [DBG] Connection id "0HN3SKLKJE8LD" completed keep alive response.
2024-05-25 13:33:51.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/favicon-32x32.png - - - 304 - image/png 13.0615ms
2024-05-25 13:34:26.311 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/register application/json 83
2024-05-25 13:34:26.313 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/register'
2024-05-25 13:34:26.317 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)' with route pattern 'api/Authentication/register' is valid for the request path '/api/Authentication/register'
2024-05-25 13:34:26.318 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 13:34:26.319 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 13:34:26.405 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 13:34:26.407 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 13:34:26.429 +03:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GL.ApplicationServices.DTOs.UserRegistrationDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 13:34:26.431 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 13:34:26.432 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 13:34:26.432 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 13:34:26.433 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 13:34:26.434 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 13:34:26.436 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 13:34:26.541 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-25 13:34:26.556 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 13:34:26.560 +03:00 [DBG] Attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' ...
2024-05-25 13:34:26.562 +03:00 [DBG] Attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' using the name '' in request data ...
2024-05-25 13:34:26.564 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 13:34:26.588 +03:00 [DBG] Connection id "0HN3SKLKJE8LD", Request id "0HN3SKLKJE8LD:00000002": started reading request body.
2024-05-25 13:34:26.589 +03:00 [DBG] Connection id "0HN3SKLKJE8LD", Request id "0HN3SKLKJE8LD:00000002": done reading request body.
2024-05-25 13:34:26.592 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'
2024-05-25 13:34:26.593 +03:00 [DBG] Done attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 13:34:26.593 +03:00 [DBG] Done attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 13:34:26.594 +03:00 [DBG] Attempting to validate the bound parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' ...
2024-05-25 13:34:26.600 +03:00 [DBG] Done attempting to validate the bound parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 13:34:27.000 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 13:34:27.021 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:34:27.059 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:34:27.063 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-25 13:34:27.066 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-25 13:34:27.075 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-25 13:34:27.115 +03:00 [DBG] Creating DbConnection.
2024-05-25 13:34:27.147 +03:00 [DBG] Created DbConnection. (30ms).
2024-05-25 13:34:27.150 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:28.026 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:28.032 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 13:34:28.037 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-25 13:34:28.046 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-05-25 13:34:28.052 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-25 13:34:28.091 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-25 13:34:28.104 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-25 13:34:28.111 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:28.116 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-05-25 13:34:28.119 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:28.123 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-25 13:34:28.130 +03:00 [DBG] An entity of type 'User' tracked by 'GameLibraryDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:34:28.132 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-25 13:34:28.135 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-25 13:34:28.138 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-25 13:34:28.138 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-25 13:34:28.139 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-25 13:34:28.140 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-25 13:34:28.141 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.ApplicationServices.DTOs.UserDTO'.
2024-05-25 13:34:28.150 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI) in 1713.2319ms
2024-05-25 13:34:28.151 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 13:34:28.152 +03:00 [DBG] Connection id "0HN3SKLKJE8LD" completed keep alive response.
2024-05-25 13:34:28.154 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 13:34:28.156 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:28.158 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-25 13:34:28.158 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/register application/json 83 - 200 - application/json;+charset=utf-8 1847.9201ms
2024-05-25 13:34:57.924 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51
2024-05-25 13:34:57.926 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-25 13:34:57.927 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-25 13:34:57.928 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 13:34:57.928 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 13:34:57.932 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 13:34:57.933 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 13:34:57.947 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.ApplicationServices.DTOs.UserLoginDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 13:34:57.948 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 13:34:57.949 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 13:34:57.950 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 13:34:57.951 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 13:34:57.952 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 13:34:57.953 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 13:34:57.955 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 13:34:57.958 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 13:34:57.959 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' using the name '' in request data ...
2024-05-25 13:34:57.960 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 13:34:57.961 +03:00 [DBG] Connection id "0HN3SKLKJE8LD", Request id "0HN3SKLKJE8LD:00000003": started reading request body.
2024-05-25 13:34:57.962 +03:00 [DBG] Connection id "0HN3SKLKJE8LD", Request id "0HN3SKLKJE8LD:00000003": done reading request body.
2024-05-25 13:34:57.963 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserLoginDTO'
2024-05-25 13:34:57.964 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 13:34:57.965 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 13:34:57.965 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 13:34:57.967 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 13:34:58.023 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 13:34:58.053 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __username_0)'
2024-05-25 13:34:58.150 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(50), 8] }
            SELECT TOP(2) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-25 13:34:58.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 13:34:58.171 +03:00 [DBG] Creating DbConnection.
2024-05-25 13:34:58.171 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-25 13:34:58.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-25 13:34:58.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-25 13:34:58.173 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:58.175 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:58.175 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-25 13:34:58.179 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-25 13:34:58.186 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:34:58.188 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:58.189 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-05-25 13:34:58.190 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:58.191 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-25 13:34:58.194 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GL.Data.Contexts.GameLibraryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-05-25 13:34:58.270 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI) in 316.4122ms
2024-05-25 13:34:58.271 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 13:34:58.273 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UsersRepository.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UsersRepository.cs:line 29
   at GL.ApplicationServices.Implementations.UsersService.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\UsersService.cs:line 66
   at GL.WebAPI.Controllers.AuthenticationController.Login(UserLoginDTO userLogin) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\AuthenticationController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-25 13:34:58.286 +03:00 [DBG] Connection id "0HN3SKLKJE8LD" completed keep alive response.
2024-05-25 13:34:58.286 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 13:34:58.287 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:34:58.288 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-25 13:34:58.288 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51 - 500 - text/plain;+charset=utf-8 364.3982ms
2024-05-25 13:35:58.092 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/register application/json 83
2024-05-25 13:35:58.093 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/register'
2024-05-25 13:35:58.094 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)' with route pattern 'api/Authentication/register' is valid for the request path '/api/Authentication/register'
2024-05-25 13:35:58.095 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 13:35:58.095 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 13:35:58.097 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 13:35:58.098 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 13:35:58.098 +03:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GL.ApplicationServices.DTOs.UserRegistrationDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 13:35:58.099 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 13:35:58.100 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 13:35:58.100 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 13:35:58.101 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 13:35:58.102 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 13:35:58.103 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 13:35:58.106 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 13:35:58.106 +03:00 [DBG] Attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' ...
2024-05-25 13:35:58.107 +03:00 [DBG] Attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' using the name '' in request data ...
2024-05-25 13:35:58.108 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 13:35:58.109 +03:00 [DBG] Connection id "0HN3SKLKJE8LD", Request id "0HN3SKLKJE8LD:00000004": started reading request body.
2024-05-25 13:35:58.109 +03:00 [DBG] Connection id "0HN3SKLKJE8LD", Request id "0HN3SKLKJE8LD:00000004": done reading request body.
2024-05-25 13:35:58.110 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'
2024-05-25 13:35:58.110 +03:00 [DBG] Done attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 13:35:58.111 +03:00 [DBG] Done attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 13:35:58.112 +03:00 [DBG] Attempting to validate the bound parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' ...
2024-05-25 13:35:58.113 +03:00 [DBG] Done attempting to validate the bound parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 13:35:58.122 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 13:35:58.152 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:35:58.153 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:35:58.153 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-25 13:35:58.155 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-25 13:35:58.155 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-25 13:35:58.157 +03:00 [DBG] Creating DbConnection.
2024-05-25 13:35:58.157 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-25 13:35:58.158 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:35:58.159 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:35:58.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 13:35:58.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-25 13:35:58.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-25 13:35:58.161 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-25 13:35:58.164 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-25 13:35:58.167 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-25 13:35:58.168 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:35:58.169 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-05-25 13:35:58.170 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:35:58.171 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-25 13:35:58.172 +03:00 [DBG] An entity of type 'User' tracked by 'GameLibraryDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:35:58.173 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-25 13:35:58.174 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-25 13:35:58.175 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-25 13:35:58.175 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-25 13:35:58.176 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-25 13:35:58.176 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-25 13:35:58.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.ApplicationServices.DTOs.UserDTO'.
2024-05-25 13:35:58.178 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI) in 74.9547ms
2024-05-25 13:35:58.179 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 13:35:58.179 +03:00 [DBG] Connection id "0HN3SKLKJE8LD" completed keep alive response.
2024-05-25 13:35:58.180 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 13:35:58.180 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:35:58.181 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-25 13:35:58.182 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/register application/json 83 - 200 - application/json;+charset=utf-8 90.5364ms
2024-05-25 13:36:06.252 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51
2024-05-25 13:36:06.253 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-25 13:36:06.253 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-25 13:36:06.255 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 13:36:06.255 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 13:36:06.256 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 13:36:06.256 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 13:36:06.257 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.ApplicationServices.DTOs.UserLoginDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 13:36:06.258 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 13:36:06.259 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 13:36:06.259 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 13:36:06.261 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 13:36:06.261 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 13:36:06.262 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 13:36:06.263 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 13:36:06.263 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 13:36:06.264 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' using the name '' in request data ...
2024-05-25 13:36:06.265 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 13:36:06.265 +03:00 [DBG] Connection id "0HN3SKLKJE8LD", Request id "0HN3SKLKJE8LD:00000005": started reading request body.
2024-05-25 13:36:06.266 +03:00 [DBG] Connection id "0HN3SKLKJE8LD", Request id "0HN3SKLKJE8LD:00000005": done reading request body.
2024-05-25 13:36:06.267 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserLoginDTO'
2024-05-25 13:36:06.267 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 13:36:06.268 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 13:36:06.268 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 13:36:06.269 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 13:36:06.270 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 13:36:06.272 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 13:36:06.272 +03:00 [DBG] Creating DbConnection.
2024-05-25 13:36:06.272 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-25 13:36:06.273 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-25 13:36:06.274 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-25 13:36:06.274 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:36:06.275 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:36:06.276 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-25 13:36:06.277 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-25 13:36:06.278 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GL.Data.Contexts.GameLibraryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-05-25 13:36:06.279 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:36:06.336 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 13:36:06.347 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI) in 85.3774ms
2024-05-25 13:36:06.348 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 13:36:06.348 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:36:06.349 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UsersRepository.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UsersRepository.cs:line 29
   at GL.ApplicationServices.Implementations.UsersService.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\UsersService.cs:line 66
   at GL.WebAPI.Controllers.AuthenticationController.Login(UserLoginDTO userLogin) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\AuthenticationController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-25 13:36:06.350 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 71ms reading results.
2024-05-25 13:36:06.357 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:36:06.357 +03:00 [DBG] Connection id "0HN3SKLKJE8LD" completed keep alive response.
2024-05-25 13:36:06.357 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-25 13:36:06.358 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 13:36:06.386 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 13:36:06.400 +03:00 [DBG] Disposed connection to database '' on server '' (14ms).
2024-05-25 13:36:06.401 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51 - 500 - text/plain;+charset=utf-8 148.7884ms
2024-05-25 14:31:20.203 +03:00 [INF] Application is starting!
2024-05-25 14:31:20.597 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-25 14:31:20.643 +03:00 [DBG] Hosting starting
2024-05-25 14:31:20.665 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-25 14:31:20.668 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-25 14:31:20.675 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-25 14:31:20.683 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-25 14:31:20.685 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 14:31:20.687 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-25 14:31:20.688 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 14:31:20.691 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-25 14:31:20.693 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-25 14:31:20.694 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-25 14:31:20.695 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-25 14:31:20.767 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-25 14:31:20.768 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-25 14:31:20.768 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-25 14:31:20.769 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-25 14:31:20.770 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-25 14:31:20.770 +03:00 [INF] Hosting environment: Development
2024-05-25 14:31:20.771 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-25 14:31:20.771 +03:00 [DBG] Hosting started
2024-05-25 14:31:21.067 +03:00 [DBG] Connection id "0HN3SLOPOM1C9" received FIN.
2024-05-25 14:31:21.067 +03:00 [DBG] Connection id "0HN3SLOPOM1C8" received FIN.
2024-05-25 14:31:21.072 +03:00 [DBG] Connection id "0HN3SLOPOM1C8" accepted.
2024-05-25 14:31:21.072 +03:00 [DBG] Connection id "0HN3SLOPOM1C9" accepted.
2024-05-25 14:31:21.073 +03:00 [DBG] Connection id "0HN3SLOPOM1C9" started.
2024-05-25 14:31:21.073 +03:00 [DBG] Connection id "0HN3SLOPOM1C8" started.
2024-05-25 14:31:21.080 +03:00 [DBG] Connection id "0HN3SLOPOM1C8" sending FIN because: "The client closed the connection."
2024-05-25 14:31:21.080 +03:00 [DBG] Connection id "0HN3SLOPOM1C9" sending FIN because: "The client closed the connection."
2024-05-25 14:31:21.082 +03:00 [DBG] Connection id "0HN3SLOPOM1C9" disconnecting.
2024-05-25 14:31:21.082 +03:00 [DBG] Connection id "0HN3SLOPOM1C8" disconnecting.
2024-05-25 14:31:21.086 +03:00 [DBG] Connection id "0HN3SLOPOM1C9" stopped.
2024-05-25 14:31:21.086 +03:00 [DBG] Connection id "0HN3SLOPOM1C8" stopped.
2024-05-25 14:31:21.167 +03:00 [DBG] Connection id "0HN3SLOPOM1CA" accepted.
2024-05-25 14:31:21.168 +03:00 [DBG] Connection id "0HN3SLOPOM1CA" started.
2024-05-25 14:31:21.169 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" accepted.
2024-05-25 14:31:21.170 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" started.
2024-05-25 14:31:21.196 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-25 14:31:21.211 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-25 14:31:21.227 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-25 14:31:21.228 +03:00 [DBG] Request did not match any endpoints
2024-05-25 14:31:21.306 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-25 14:31:21.368 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-25 14:31:21.369 +03:00 [DBG] Connection id "0HN3SLOPOM1CA" completed keep alive response.
2024-05-25 14:31:21.371 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 176.3978ms
2024-05-25 14:31:21.454 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-25 14:31:21.455 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-25 14:31:21.463 +03:00 [DBG] Connection id "0HN3SLOPOM1CA" completed keep alive response.
2024-05-25 14:31:21.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 9.5478ms
2024-05-25 14:31:21.473 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" completed keep alive response.
2024-05-25 14:31:21.474 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.5926ms
2024-05-25 14:31:22.013 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-25 14:31:22.014 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-25 14:31:22.015 +03:00 [DBG] Request did not match any endpoints
2024-05-25 14:31:22.101 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" completed keep alive response.
2024-05-25 14:31:22.102 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 88.5158ms
2024-05-25 14:32:32.756 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51
2024-05-25 14:32:32.786 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-25 14:32:32.790 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-25 14:32:32.792 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 14:32:32.793 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 14:32:32.834 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 14:32:32.836 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 14:32:32.853 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.ApplicationServices.DTOs.UserLoginDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 14:32:32.855 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 14:32:32.855 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 14:32:32.856 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 14:32:32.857 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 14:32:32.858 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 14:32:32.859 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 14:32:32.932 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-25 14:32:32.945 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 14:32:32.949 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 14:32:32.951 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' using the name '' in request data ...
2024-05-25 14:32:32.952 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 14:32:32.975 +03:00 [DBG] Connection id "0HN3SLOPOM1CB", Request id "0HN3SLOPOM1CB:00000003": started reading request body.
2024-05-25 14:32:32.976 +03:00 [DBG] Connection id "0HN3SLOPOM1CB", Request id "0HN3SLOPOM1CB:00000003": done reading request body.
2024-05-25 14:32:32.978 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserLoginDTO'
2024-05-25 14:32:32.979 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 14:32:32.980 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 14:32:32.980 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 14:32:32.985 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 14:32:33.371 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 14:32:33.404 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __username_0)'
2024-05-25 14:32:33.506 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(50), 8] }
            SELECT TOP(2) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-25 14:32:33.531 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 14:32:33.532 +03:00 [DBG] Creating DbConnection.
2024-05-25 14:32:33.545 +03:00 [DBG] Created DbConnection. (10ms).
2024-05-25 14:32:33.550 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-25 14:32:33.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-05-25 14:32:33.560 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 14:32:33.656 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GL.Data.Contexts.GameLibraryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-05-25 14:32:33.722 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI) in 860.5338ms
2024-05-25 14:32:33.723 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 14:32:33.724 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UsersRepository.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UsersRepository.cs:line 29
   at GL.ApplicationServices.Implementations.UsersService.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\UsersService.cs:line 66
   at GL.WebAPI.Controllers.AuthenticationController.Login(UserLoginDTO userLogin) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\AuthenticationController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-25 14:32:33.741 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" completed keep alive response.
2024-05-25 14:32:33.743 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 14:32:33.747 +03:00 [ERR] An error occurred using the connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 14:32:33.747 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 14:32:33.752 +03:00 [DBG] A query was canceled for context type 'GL.Data.Contexts.GameLibraryDbContext'.
2024-05-25 14:32:33.752 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-25 14:32:33.780 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51 - 500 - text/plain;+charset=utf-8 1023.4865ms
2024-05-25 14:36:58.883 +03:00 [DBG] Connection id "0HN3SLOPOM1CA" received FIN.
2024-05-25 14:36:58.887 +03:00 [DBG] Connection id "0HN3SLOPOM1CA" sending FIN because: "The client closed the connection."
2024-05-25 14:36:58.890 +03:00 [DBG] Connection id "0HN3SLOPOM1CA" disconnecting.
2024-05-25 14:36:58.891 +03:00 [DBG] Connection id "0HN3SLOPOM1CA" stopped.
2024-05-25 14:37:58.879 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" received FIN.
2024-05-25 14:37:58.883 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" sending FIN because: "The client closed the connection."
2024-05-25 14:37:58.884 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" disconnecting.
2024-05-25 14:37:58.887 +03:00 [DBG] Connection id "0HN3SLOPOM1CB" stopped.
2024-05-25 17:00:18.222 +03:00 [INF] Application is starting!
2024-05-25 17:00:19.067 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-25 17:00:19.228 +03:00 [DBG] Hosting starting
2024-05-25 17:00:19.250 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-25 17:00:19.252 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-25 17:00:19.266 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-25 17:00:19.273 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-25 17:00:19.275 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 17:00:19.277 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-25 17:00:19.278 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 17:00:19.281 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-25 17:00:19.282 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-25 17:00:19.283 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-25 17:00:19.284 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-25 17:00:19.352 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-25 17:00:19.353 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-25 17:00:19.353 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-25 17:00:19.354 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-25 17:00:19.354 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-25 17:00:19.355 +03:00 [INF] Hosting environment: Development
2024-05-25 17:00:19.355 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-25 17:00:19.356 +03:00 [DBG] Hosting started
2024-05-25 17:00:19.804 +03:00 [DBG] Connection id "0HN3SOC1N4611" accepted.
2024-05-25 17:00:19.806 +03:00 [DBG] Connection id "0HN3SOC1N4611" started.
2024-05-25 17:00:19.816 +03:00 [DBG] Connection id "0HN3SOC1N4612" received FIN.
2024-05-25 17:00:19.816 +03:00 [DBG] Connection id "0HN3SOC1N4611" received FIN.
2024-05-25 17:00:19.817 +03:00 [DBG] Connection id "0HN3SOC1N4612" accepted.
2024-05-25 17:00:19.818 +03:00 [DBG] Connection id "0HN3SOC1N4612" started.
2024-05-25 17:00:19.818 +03:00 [DBG] Connection id "0HN3SOC1N4611" sending FIN because: "The client closed the connection."
2024-05-25 17:00:19.820 +03:00 [DBG] Connection id "0HN3SOC1N4612" sending FIN because: "The client closed the connection."
2024-05-25 17:00:19.821 +03:00 [DBG] Connection id "0HN3SOC1N4611" disconnecting.
2024-05-25 17:00:19.821 +03:00 [DBG] Connection id "0HN3SOC1N4612" disconnecting.
2024-05-25 17:00:19.826 +03:00 [DBG] Connection id "0HN3SOC1N4611" stopped.
2024-05-25 17:00:19.826 +03:00 [DBG] Connection id "0HN3SOC1N4612" stopped.
2024-05-25 17:00:20.249 +03:00 [DBG] Connection id "0HN3SOC1N4613" accepted.
2024-05-25 17:00:20.250 +03:00 [DBG] Connection id "0HN3SOC1N4613" started.
2024-05-25 17:00:20.250 +03:00 [DBG] Connection id "0HN3SOC1N4614" accepted.
2024-05-25 17:00:20.252 +03:00 [DBG] Connection id "0HN3SOC1N4614" started.
2024-05-25 17:00:20.277 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-25 17:00:20.291 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-25 17:00:20.307 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-25 17:00:20.308 +03:00 [DBG] Request did not match any endpoints
2024-05-25 17:00:20.379 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-25 17:00:20.436 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-25 17:00:20.437 +03:00 [DBG] Connection id "0HN3SOC1N4613" completed keep alive response.
2024-05-25 17:00:20.440 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 163.9369ms
2024-05-25 17:00:20.527 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-25 17:00:20.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-25 17:00:20.536 +03:00 [DBG] Connection id "0HN3SOC1N4613" completed keep alive response.
2024-05-25 17:00:20.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 7.6372ms
2024-05-25 17:00:20.550 +03:00 [DBG] Connection id "0HN3SOC1N4614" completed keep alive response.
2024-05-25 17:00:20.550 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.1385ms
2024-05-25 17:00:21.300 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-25 17:00:21.301 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-25 17:00:21.302 +03:00 [DBG] Request did not match any endpoints
2024-05-25 17:00:21.393 +03:00 [DBG] Connection id "0HN3SOC1N4614" completed keep alive response.
2024-05-25 17:00:21.393 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.1580ms
2024-05-25 17:00:42.606 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51
2024-05-25 17:00:42.633 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-25 17:00:42.636 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-25 17:00:42.638 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:00:42.639 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 17:00:43.140 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 17:00:43.143 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:00:43.159 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.ApplicationServices.DTOs.UserLoginDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 17:00:43.161 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 17:00:43.162 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 17:00:43.163 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 17:00:43.164 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 17:00:43.165 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 17:00:43.166 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 17:00:43.360 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-25 17:00:43.374 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 17:00:43.377 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 17:00:43.379 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' using the name '' in request data ...
2024-05-25 17:00:43.380 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 17:00:43.403 +03:00 [DBG] Connection id "0HN3SOC1N4614", Request id "0HN3SOC1N4614:00000003": started reading request body.
2024-05-25 17:00:43.404 +03:00 [DBG] Connection id "0HN3SOC1N4614", Request id "0HN3SOC1N4614:00000003": done reading request body.
2024-05-25 17:00:43.407 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserLoginDTO'
2024-05-25 17:00:43.408 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:00:43.408 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:00:43.409 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 17:00:43.415 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:00:43.804 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 17:00:43.933 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __username_0)'
2024-05-25 17:00:44.032 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(50), 8] }
            SELECT TOP(2) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-25 17:00:44.057 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 17:00:44.059 +03:00 [DBG] Creating DbConnection.
2024-05-25 17:00:44.071 +03:00 [DBG] Created DbConnection. (10ms).
2024-05-25 17:00:44.076 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-25 17:00:44.082 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-05-25 17:00:44.085 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:00:44.371 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GL.Data.Contexts.GameLibraryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-05-25 17:00:44.440 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI) in 1271.9989ms
2024-05-25 17:00:44.442 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:00:44.443 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UsersRepository.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UsersRepository.cs:line 29
   at GL.ApplicationServices.Implementations.UsersService.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\UsersService.cs:line 51
   at GL.WebAPI.Controllers.AuthenticationController.Login(UserLoginDTO userLogin) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\AuthenticationController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-25 17:00:44.461 +03:00 [DBG] Connection id "0HN3SOC1N4614" completed keep alive response.
2024-05-25 17:00:44.463 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 17:00:44.467 +03:00 [ERR] An error occurred using the connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:00:44.468 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:00:44.473 +03:00 [DBG] A query was canceled for context type 'GL.Data.Contexts.GameLibraryDbContext'.
2024-05-25 17:00:44.473 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-25 17:00:44.493 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51 - 500 - text/plain;+charset=utf-8 1869.0370ms
2024-05-25 17:02:18.846 +03:00 [INF] Application is starting!
2024-05-25 17:02:18.939 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:02:26.747 +03:00 [INF] Application is starting!
2024-05-25 17:02:26.842 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:02:33.191 +03:00 [INF] Application is starting!
2024-05-25 17:02:33.550 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-25 17:02:33.605 +03:00 [DBG] Hosting starting
2024-05-25 17:02:33.630 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-25 17:02:33.633 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-25 17:02:33.640 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-25 17:02:33.647 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-25 17:02:33.649 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 17:02:33.651 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-25 17:02:33.652 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 17:02:33.655 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-25 17:02:33.656 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-25 17:02:33.658 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-25 17:02:33.659 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-25 17:02:33.761 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-25 17:02:33.762 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-25 17:02:33.763 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-25 17:02:33.764 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-25 17:02:33.765 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-25 17:02:33.765 +03:00 [INF] Hosting environment: Development
2024-05-25 17:02:33.766 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-25 17:02:33.767 +03:00 [DBG] Hosting started
2024-05-25 17:02:33.976 +03:00 [DBG] Connection id "0HN3SOD9MM196" accepted.
2024-05-25 17:02:33.976 +03:00 [DBG] Connection id "0HN3SOD9MM195" accepted.
2024-05-25 17:02:33.977 +03:00 [DBG] Connection id "0HN3SOD9MM196" started.
2024-05-25 17:02:33.977 +03:00 [DBG] Connection id "0HN3SOD9MM195" started.
2024-05-25 17:02:33.992 +03:00 [DBG] Connection id "0HN3SOD9MM196" received FIN.
2024-05-25 17:02:33.992 +03:00 [DBG] Connection id "0HN3SOD9MM195" received FIN.
2024-05-25 17:02:33.995 +03:00 [DBG] Connection id "0HN3SOD9MM196" sending FIN because: "The client closed the connection."
2024-05-25 17:02:33.995 +03:00 [DBG] Connection id "0HN3SOD9MM195" sending FIN because: "The client closed the connection."
2024-05-25 17:02:33.998 +03:00 [DBG] Connection id "0HN3SOD9MM196" disconnecting.
2024-05-25 17:02:33.998 +03:00 [DBG] Connection id "0HN3SOD9MM195" disconnecting.
2024-05-25 17:02:34.003 +03:00 [DBG] Connection id "0HN3SOD9MM196" stopped.
2024-05-25 17:02:34.004 +03:00 [DBG] Connection id "0HN3SOD9MM195" stopped.
2024-05-25 17:02:34.138 +03:00 [DBG] Connection id "0HN3SOD9MM197" accepted.
2024-05-25 17:02:34.139 +03:00 [DBG] Connection id "0HN3SOD9MM197" started.
2024-05-25 17:02:34.140 +03:00 [DBG] Connection id "0HN3SOD9MM198" accepted.
2024-05-25 17:02:34.142 +03:00 [DBG] Connection id "0HN3SOD9MM198" started.
2024-05-25 17:02:34.181 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-25 17:02:34.204 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-25 17:02:34.234 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-25 17:02:34.236 +03:00 [DBG] Request did not match any endpoints
2024-05-25 17:02:34.350 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-25 17:02:34.429 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-25 17:02:34.431 +03:00 [DBG] Connection id "0HN3SOD9MM197" completed keep alive response.
2024-05-25 17:02:34.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 253.6325ms
2024-05-25 17:02:34.518 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-25 17:02:34.520 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-25 17:02:34.526 +03:00 [DBG] Connection id "0HN3SOD9MM197" completed keep alive response.
2024-05-25 17:02:34.527 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 7.1175ms
2024-05-25 17:02:34.538 +03:00 [DBG] Connection id "0HN3SOD9MM198" completed keep alive response.
2024-05-25 17:02:34.539 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.3115ms
2024-05-25 17:02:35.161 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-25 17:02:35.162 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-25 17:02:35.163 +03:00 [DBG] Request did not match any endpoints
2024-05-25 17:02:35.264 +03:00 [DBG] Connection id "0HN3SOD9MM198" completed keep alive response.
2024-05-25 17:02:35.266 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.3408ms
2024-05-25 17:02:55.923 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51
2024-05-25 17:02:55.939 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-25 17:02:55.942 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-25 17:02:55.943 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:02:55.944 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 17:02:55.985 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 17:02:55.988 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:02:56.004 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.ApplicationServices.DTOs.UserLoginDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 17:02:56.006 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 17:02:56.007 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 17:02:56.008 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 17:02:56.009 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 17:02:56.009 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 17:02:56.011 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 17:02:56.087 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-25 17:02:56.101 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 17:02:56.104 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 17:02:56.106 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' using the name '' in request data ...
2024-05-25 17:02:56.107 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 17:02:56.130 +03:00 [DBG] Connection id "0HN3SOD9MM198", Request id "0HN3SOD9MM198:00000003": started reading request body.
2024-05-25 17:02:56.131 +03:00 [DBG] Connection id "0HN3SOD9MM198", Request id "0HN3SOD9MM198:00000003": done reading request body.
2024-05-25 17:02:56.134 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserLoginDTO'
2024-05-25 17:02:56.135 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:02:56.135 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:02:56.136 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 17:02:56.141 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:02:56.535 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 17:02:56.567 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __username_0)'
2024-05-25 17:02:56.665 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(50), 8] }
            SELECT TOP(2) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-25 17:02:56.689 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 17:02:56.691 +03:00 [DBG] Creating DbConnection.
2024-05-25 17:02:56.703 +03:00 [DBG] Created DbConnection. (10ms).
2024-05-25 17:02:56.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-25 17:02:56.714 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-05-25 17:02:56.717 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:02:56.842 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GL.Data.Contexts.GameLibraryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-05-25 17:02:56.907 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI) in 895.156ms
2024-05-25 17:02:56.909 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:02:56.910 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UsersRepository.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UsersRepository.cs:line 29
   at GL.ApplicationServices.Implementations.UsersService.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\UsersService.cs:line 51
   at GL.WebAPI.Controllers.AuthenticationController.Login(UserLoginDTO userLogin) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\AuthenticationController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-25 17:02:56.926 +03:00 [DBG] Connection id "0HN3SOD9MM198" completed keep alive response.
2024-05-25 17:02:56.928 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 17:02:56.932 +03:00 [ERR] An error occurred using the connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:02:56.932 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:02:56.937 +03:00 [DBG] A query was canceled for context type 'GL.Data.Contexts.GameLibraryDbContext'.
2024-05-25 17:02:56.938 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-25 17:02:56.967 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 51 - 500 - text/plain;+charset=utf-8 1035.5846ms
2024-05-25 17:04:36.629 +03:00 [INF] Application is starting!
2024-05-25 17:04:36.731 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:04:40.883 +03:00 [INF] Application is starting!
2024-05-25 17:04:40.976 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:13:26.172 +03:00 [INF] Application is starting!
2024-05-25 17:13:26.266 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:13:31.751 +03:00 [INF] Application is starting!
2024-05-25 17:13:31.843 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:13:55.957 +03:00 [INF] Application is starting!
2024-05-25 17:13:56.051 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:16:56.816 +03:00 [INF] Application is starting!
2024-05-25 17:16:56.909 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:17:10.286 +03:00 [INF] Application is starting!
2024-05-25 17:17:10.392 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 124
2024-05-25 17:17:25.830 +03:00 [INF] Application is starting!
2024-05-25 17:17:26.329 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-25 17:17:26.391 +03:00 [DBG] Hosting starting
2024-05-25 17:17:26.417 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-25 17:17:26.420 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-25 17:17:26.426 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-25 17:17:26.434 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-25 17:17:26.437 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 17:17:26.439 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-25 17:17:26.441 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 17:17:26.445 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-25 17:17:26.446 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-25 17:17:26.448 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-25 17:17:26.449 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-25 17:17:26.539 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-25 17:17:26.541 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-25 17:17:26.541 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-25 17:17:26.542 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-25 17:17:26.548 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-25 17:17:26.550 +03:00 [INF] Hosting environment: Development
2024-05-25 17:17:26.551 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-25 17:17:26.553 +03:00 [DBG] Hosting started
2024-05-25 17:17:26.559 +03:00 [DBG] Connection id "0HN3SOLJN0H96" received FIN.
2024-05-25 17:17:26.562 +03:00 [DBG] Connection id "0HN3SOLJN0H96" accepted.
2024-05-25 17:17:26.564 +03:00 [DBG] Connection id "0HN3SOLJN0H96" started.
2024-05-25 17:17:26.576 +03:00 [DBG] Connection id "0HN3SOLJN0H96" sending FIN because: "The client closed the connection."
2024-05-25 17:17:26.579 +03:00 [DBG] Connection id "0HN3SOLJN0H96" disconnecting.
2024-05-25 17:17:26.590 +03:00 [DBG] Connection id "0HN3SOLJN0H96" stopped.
2024-05-25 17:17:26.701 +03:00 [DBG] Connection id "0HN3SOLJN0H97" accepted.
2024-05-25 17:17:26.702 +03:00 [DBG] Connection id "0HN3SOLJN0H97" started.
2024-05-25 17:17:26.703 +03:00 [DBG] Connection id "0HN3SOLJN0H98" accepted.
2024-05-25 17:17:26.705 +03:00 [DBG] Connection id "0HN3SOLJN0H98" started.
2024-05-25 17:17:26.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-25 17:17:26.749 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-25 17:17:26.770 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-25 17:17:26.771 +03:00 [DBG] Request did not match any endpoints
2024-05-25 17:17:26.851 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-25 17:17:26.919 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-25 17:17:26.920 +03:00 [DBG] Connection id "0HN3SOLJN0H97" completed keep alive response.
2024-05-25 17:17:26.923 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 189.9205ms
2024-05-25 17:17:27.012 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-25 17:17:27.014 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-25 17:17:27.024 +03:00 [DBG] Connection id "0HN3SOLJN0H97" completed keep alive response.
2024-05-25 17:17:27.026 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 11.8318ms
2024-05-25 17:17:27.036 +03:00 [DBG] Connection id "0HN3SOLJN0H98" completed keep alive response.
2024-05-25 17:17:27.037 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.2020ms
2024-05-25 17:17:27.605 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-25 17:17:27.606 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-25 17:17:27.607 +03:00 [DBG] Request did not match any endpoints
2024-05-25 17:17:27.703 +03:00 [DBG] Connection id "0HN3SOLJN0H98" completed keep alive response.
2024-05-25 17:17:27.705 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.3060ms
2024-05-25 17:17:54.369 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/register application/json 80
2024-05-25 17:17:54.378 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/register'
2024-05-25 17:17:54.380 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)' with route pattern 'api/Authentication/register' is valid for the request path '/api/Authentication/register'
2024-05-25 17:17:54.382 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 17:17:54.383 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 17:17:54.424 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 17:17:54.426 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 17:17:54.442 +03:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GL.ApplicationServices.DTOs.UserRegistrationDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 17:17:54.445 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 17:17:54.446 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 17:17:54.446 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 17:17:54.448 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 17:17:54.448 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 17:17:54.450 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 17:17:54.526 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-25 17:17:54.540 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 17:17:54.543 +03:00 [DBG] Attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' ...
2024-05-25 17:17:54.546 +03:00 [DBG] Attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' using the name '' in request data ...
2024-05-25 17:17:54.547 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 17:17:54.570 +03:00 [DBG] Connection id "0HN3SOLJN0H98", Request id "0HN3SOLJN0H98:00000003": started reading request body.
2024-05-25 17:17:54.571 +03:00 [DBG] Connection id "0HN3SOLJN0H98", Request id "0HN3SOLJN0H98:00000003": done reading request body.
2024-05-25 17:17:54.574 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'
2024-05-25 17:17:54.574 +03:00 [DBG] Done attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 17:17:54.575 +03:00 [DBG] Done attempting to bind parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 17:17:54.576 +03:00 [DBG] Attempting to validate the bound parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO' ...
2024-05-25 17:17:54.582 +03:00 [DBG] Done attempting to validate the bound parameter 'userRegistration' of type 'GL.ApplicationServices.DTOs.UserRegistrationDTO'.
2024-05-25 17:17:54.965 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 17:17:54.985 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 17:17:55.023 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 17:17:55.027 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-25 17:17:55.029 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-25 17:17:55.039 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-25 17:17:55.079 +03:00 [DBG] Creating DbConnection.
2024-05-25 17:17:55.097 +03:00 [DBG] Created DbConnection. (16ms).
2024-05-25 17:17:55.100 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:17:55.302 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:17:55.308 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 17:17:55.313 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-25 17:17:55.319 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-05-25 17:17:55.326 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-25 17:17:55.391 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-25 17:17:55.403 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-25 17:17:55.410 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:17:55.415 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-05-25 17:17:55.419 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:17:55.423 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-25 17:17:55.429 +03:00 [DBG] An entity of type 'User' tracked by 'GameLibraryDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 17:17:55.431 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-25 17:17:55.435 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-25 17:17:55.437 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-25 17:17:55.438 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-25 17:17:55.438 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-25 17:17:55.439 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-25 17:17:55.440 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.ApplicationServices.DTOs.UserDTO'.
2024-05-25 17:17:55.449 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI) in 997.6901ms
2024-05-25 17:17:55.450 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Register (GL.WebAPI)'
2024-05-25 17:17:55.451 +03:00 [DBG] Connection id "0HN3SOLJN0H98" completed keep alive response.
2024-05-25 17:17:55.453 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 17:17:55.456 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:17:55.457 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-25 17:17:55.458 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/register application/json 80 - 200 - application/json;+charset=utf-8 1089.2918ms
2024-05-25 17:18:18.634 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 49
2024-05-25 17:18:18.636 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-25 17:18:18.637 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-25 17:18:18.638 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:18:18.638 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 17:18:18.667 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 17:18:18.668 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:18:18.672 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.ApplicationServices.DTOs.UserLoginDTO) on controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI).
2024-05-25 17:18:18.674 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 17:18:18.674 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 17:18:18.675 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 17:18:18.676 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 17:18:18.677 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-25 17:18:18.678 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 17:18:18.680 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthenticationController (GL.WebAPI)
2024-05-25 17:18:18.683 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 17:18:18.684 +03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' using the name '' in request data ...
2024-05-25 17:18:18.685 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-25 17:18:18.687 +03:00 [DBG] Connection id "0HN3SOLJN0H98", Request id "0HN3SOLJN0H98:00000004": started reading request body.
2024-05-25 17:18:18.688 +03:00 [DBG] Connection id "0HN3SOLJN0H98", Request id "0HN3SOLJN0H98:00000004": done reading request body.
2024-05-25 17:18:18.689 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.ApplicationServices.DTOs.UserLoginDTO'
2024-05-25 17:18:18.690 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:18:18.691 +03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:18:18.691 +03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO' ...
2024-05-25 17:18:18.693 +03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'GL.ApplicationServices.DTOs.UserLoginDTO'.
2024-05-25 17:18:18.745 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-25 17:18:18.771 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.Username == __username_0)'
2024-05-25 17:18:18.867 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(50), 8] }
            SELECT TOP(2) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-25 17:18:18.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-25 17:18:18.888 +03:00 [DBG] Creating DbConnection.
2024-05-25 17:18:18.889 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-25 17:18:18.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-25 17:18:18.890 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-25 17:18:18.891 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:18:18.892 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:18:18.893 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-25 17:18:18.897 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-25 17:18:18.904 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-25 17:18:18.905 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GL.Data.Contexts.GameLibraryDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-05-25 17:18:18.906 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:18:18.909 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 10ms reading results.
2024-05-25 17:18:18.967 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:18:18.968 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI) in 289.5378ms
2024-05-25 17:18:18.968 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-25 17:18:18.968 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthenticationController.Login (GL.WebAPI)'
2024-05-25 17:18:18.970 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UsersRepository.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UsersRepository.cs:line 29
   at GL.ApplicationServices.Implementations.UsersService.GetUserByUsernameAsync(String username) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\UsersService.cs:line 51
   at GL.WebAPI.Controllers.AuthenticationController.Login(UserLoginDTO userLogin) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\AuthenticationController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-25 17:18:18.982 +03:00 [DBG] Connection id "0HN3SOLJN0H98" completed keep alive response.
2024-05-25 17:18:18.983 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-25 17:18:18.984 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-25 17:18:18.985 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-25 17:18:18.985 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Authentication/login application/json 49 - 500 - text/plain;+charset=utf-8 350.8788ms
2024-05-25 19:22:16.255 +03:00 [INF] Application is starting!
2024-05-25 19:22:16.351 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 118
2024-05-25 19:22:21.891 +03:00 [INF] Application is starting!
2024-05-25 19:22:21.984 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 118
2024-05-25 19:22:29.352 +03:00 [INF] Application is starting!
2024-05-25 19:22:29.839 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-25 19:22:29.914 +03:00 [DBG] Hosting starting
2024-05-25 19:22:29.940 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-25 19:22:29.944 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-25 19:22:29.951 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-25 19:22:29.959 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-25 19:22:29.961 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 19:22:29.963 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-25 19:22:29.964 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-25 19:22:29.967 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-25 19:22:29.969 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-25 19:22:29.970 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-25 19:22:29.971 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-25 19:22:30.062 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-25 19:22:30.063 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-25 19:22:30.064 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-25 19:22:30.065 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-25 19:22:30.066 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-25 19:22:30.067 +03:00 [INF] Hosting environment: Development
2024-05-25 19:22:30.068 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-25 19:22:30.069 +03:00 [DBG] Hosting started
2024-05-25 19:22:30.493 +03:00 [DBG] Connection id "0HN3SQRG23L43" received FIN.
2024-05-25 19:22:30.493 +03:00 [DBG] Connection id "0HN3SQRG23L44" received FIN.
2024-05-25 19:22:30.499 +03:00 [DBG] Connection id "0HN3SQRG23L44" accepted.
2024-05-25 19:22:30.499 +03:00 [DBG] Connection id "0HN3SQRG23L43" accepted.
2024-05-25 19:22:30.500 +03:00 [DBG] Connection id "0HN3SQRG23L44" started.
2024-05-25 19:22:30.501 +03:00 [DBG] Connection id "0HN3SQRG23L43" started.
2024-05-25 19:22:30.509 +03:00 [DBG] Connection id "0HN3SQRG23L43" sending FIN because: "The client closed the connection."
2024-05-25 19:22:30.509 +03:00 [DBG] Connection id "0HN3SQRG23L44" sending FIN because: "The client closed the connection."
2024-05-25 19:22:30.511 +03:00 [DBG] Connection id "0HN3SQRG23L43" disconnecting.
2024-05-25 19:22:30.511 +03:00 [DBG] Connection id "0HN3SQRG23L44" disconnecting.
2024-05-25 19:22:30.514 +03:00 [DBG] Connection id "0HN3SQRG23L43" stopped.
2024-05-25 19:22:30.514 +03:00 [DBG] Connection id "0HN3SQRG23L44" stopped.
2024-05-25 19:22:30.623 +03:00 [DBG] Connection id "0HN3SQRG23L45" accepted.
2024-05-25 19:22:30.625 +03:00 [DBG] Connection id "0HN3SQRG23L45" started.
2024-05-25 19:22:30.625 +03:00 [DBG] Connection id "0HN3SQRG23L46" accepted.
2024-05-25 19:22:30.628 +03:00 [DBG] Connection id "0HN3SQRG23L46" started.
2024-05-25 19:22:30.664 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-25 19:22:30.686 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-25 19:22:30.709 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-25 19:22:30.710 +03:00 [DBG] Request did not match any endpoints
2024-05-25 19:22:30.804 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-25 19:22:30.882 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-25 19:22:30.883 +03:00 [DBG] Connection id "0HN3SQRG23L45" completed keep alive response.
2024-05-25 19:22:30.886 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 223.4774ms
2024-05-25 19:22:30.979 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-25 19:22:30.980 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-25 19:22:30.990 +03:00 [DBG] Connection id "0HN3SQRG23L45" completed keep alive response.
2024-05-25 19:22:30.991 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 10.7394ms
2024-05-25 19:22:31.001 +03:00 [DBG] Connection id "0HN3SQRG23L46" completed keep alive response.
2024-05-25 19:22:31.002 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.6335ms
2024-05-25 19:22:31.686 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-25 19:22:31.687 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-25 19:22:31.688 +03:00 [DBG] Request did not match any endpoints
2024-05-25 19:22:31.815 +03:00 [DBG] Connection id "0HN3SQRG23L46" completed keep alive response.
2024-05-25 19:22:31.816 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 130.4356ms
2024-05-25 19:27:12.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Authorization?clientId=fmi&secret=fmi - -
2024-05-25 19:27:12.746 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authorization'
2024-05-25 19:27:12.753 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI)' with route pattern 'api/Authorization' is valid for the request path '/api/Authorization'
2024-05-25 19:27:12.756 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI)'
2024-05-25 19:27:12.759 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-25 19:27:12.843 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-25 19:27:12.848 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI)'
2024-05-25 19:27:12.888 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller GL.WebAPI.Controllers.AuthorizationController (GL.WebAPI).
2024-05-25 19:27:12.892 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-25 19:27:12.894 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-25 19:27:12.896 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-25 19:27:12.898 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-25 19:27:12.899 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-25 19:27:12.903 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthorizationController (GL.WebAPI)
2024-05-25 19:27:12.905 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthorizationController (GL.WebAPI)
2024-05-25 19:27:12.928 +03:00 [DBG] Attempting to bind parameter 'clientId' of type 'System.String' ...
2024-05-25 19:27:12.932 +03:00 [DBG] Attempting to bind parameter 'clientId' of type 'System.String' using the name 'clientId' in request data ...
2024-05-25 19:27:12.934 +03:00 [DBG] Done attempting to bind parameter 'clientId' of type 'System.String'.
2024-05-25 19:27:12.936 +03:00 [DBG] Done attempting to bind parameter 'clientId' of type 'System.String'.
2024-05-25 19:27:12.938 +03:00 [DBG] Attempting to validate the bound parameter 'clientId' of type 'System.String' ...
2024-05-25 19:27:12.946 +03:00 [DBG] Done attempting to validate the bound parameter 'clientId' of type 'System.String'.
2024-05-25 19:27:12.949 +03:00 [DBG] Attempting to bind parameter 'secret' of type 'System.String' ...
2024-05-25 19:27:12.950 +03:00 [DBG] Attempting to bind parameter 'secret' of type 'System.String' using the name 'secret' in request data ...
2024-05-25 19:27:12.952 +03:00 [DBG] Done attempting to bind parameter 'secret' of type 'System.String'.
2024-05-25 19:27:12.953 +03:00 [DBG] Done attempting to bind parameter 'secret' of type 'System.String'.
2024-05-25 19:27:12.955 +03:00 [DBG] Attempting to validate the bound parameter 'secret' of type 'System.String' ...
2024-05-25 19:27:12.957 +03:00 [DBG] Done attempting to validate the bound parameter 'secret' of type 'System.String'.
2024-05-25 19:27:13.078 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI) in 172.9994ms
2024-05-25 19:27:13.081 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI)'
2024-05-25 19:27:13.083 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'http://www.w3.org/2001/04/xmldsig-more#hmac-sha256', the key size must be greater than: '256' bits, key has '168' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.CreateJwtSecurityTokenPrivate(String issuer, String audience, ClaimsIdentity subject, Nullable`1 notBefore, Nullable`1 expires, Nullable`1 issuedAt, SigningCredentials signingCredentials, EncryptingCredentials encryptingCredentials, IDictionary`2 claimCollection, String tokenType, IDictionary`2 additionalHeaderClaims, IDictionary`2 additionalInnerHeaderClaims)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.CreateToken(SecurityTokenDescriptor tokenDescriptor)
   at GL.ApplicationServices.Implementations.JwtAuthenticationManager.Authenticate(String username, String password) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\JwtAuthenticationManager.cs:line 49
   at GL.WebAPI.Controllers.AuthorizationController.Token(String clientId, String secret) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\AuthorizationController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-25 19:27:13.132 +03:00 [DBG] Connection id "0HN3SQRG23L46" completed keep alive response.
2024-05-25 19:27:13.133 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Authorization?clientId=fmi&secret=fmi - - - 500 - text/plain;+charset=utf-8 399.0221ms
2024-05-25 19:27:31.724 +03:00 [DBG] Connection id "0HN3SQRG23L45" received FIN.
2024-05-25 19:27:31.727 +03:00 [DBG] Connection id "0HN3SQRG23L45" sending FIN because: "The client closed the connection."
2024-05-25 19:27:31.752 +03:00 [DBG] Connection id "0HN3SQRG23L45" disconnecting.
2024-05-25 19:27:31.756 +03:00 [DBG] Connection id "0HN3SQRG23L45" stopped.
2024-05-25 19:32:31.724 +03:00 [DBG] Connection id "0HN3SQRG23L46" received FIN.
2024-05-25 19:32:31.733 +03:00 [DBG] Connection id "0HN3SQRG23L46" disconnecting.
2024-05-25 19:32:31.738 +03:00 [DBG] Connection id "0HN3SQRG23L46" sending FIN because: "The client closed the connection."
2024-05-25 19:32:31.746 +03:00 [DBG] Connection id "0HN3SQRG23L46" stopped.
