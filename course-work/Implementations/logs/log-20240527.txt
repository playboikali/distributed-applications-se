2024-05-27 10:59:07.922 +03:00 [INF] Application is starting!
2024-05-27 10:59:08.811 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 10:59:09.035 +03:00 [DBG] Hosting starting
2024-05-27 10:59:09.071 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 10:59:09.074 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 10:59:09.091 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 10:59:09.097 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 10:59:09.101 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 10:59:09.103 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 10:59:09.105 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 10:59:09.108 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 10:59:09.109 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 10:59:09.110 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 10:59:09.111 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 10:59:09.205 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 10:59:09.206 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 10:59:09.206 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 10:59:09.207 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 10:59:09.208 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 10:59:09.208 +03:00 [INF] Hosting environment: Development
2024-05-27 10:59:09.209 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 10:59:09.209 +03:00 [DBG] Hosting started
2024-05-27 10:59:10.134 +03:00 [DBG] Connection id "0HN3U4BI28P5E" received FIN.
2024-05-27 10:59:10.140 +03:00 [DBG] Connection id "0HN3U4BI28P5E" accepted.
2024-05-27 10:59:10.141 +03:00 [DBG] Connection id "0HN3U4BI28P5E" started.
2024-05-27 10:59:10.152 +03:00 [DBG] Connection id "0HN3U4BI28P5E" sending FIN because: "The client closed the connection."
2024-05-27 10:59:10.155 +03:00 [DBG] Connection id "0HN3U4BI28P5E" disconnecting.
2024-05-27 10:59:10.160 +03:00 [DBG] Connection id "0HN3U4BI28P5E" stopped.
2024-05-27 10:59:10.853 +03:00 [DBG] Connection id "0HN3U4BI28P5F" accepted.
2024-05-27 10:59:10.854 +03:00 [DBG] Connection id "0HN3U4BI28P5F" started.
2024-05-27 10:59:10.855 +03:00 [DBG] Connection id "0HN3U4BI28P5G" accepted.
2024-05-27 10:59:10.859 +03:00 [DBG] Connection id "0HN3U4BI28P5G" started.
2024-05-27 10:59:10.901 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 10:59:10.920 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 10:59:10.941 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 10:59:10.942 +03:00 [DBG] Request did not match any endpoints
2024-05-27 10:59:11.030 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 10:59:11.189 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 10:59:11.190 +03:00 [DBG] Connection id "0HN3U4BI28P5F" completed keep alive response.
2024-05-27 10:59:11.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 293.6929ms
2024-05-27 10:59:11.293 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 10:59:11.294 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 10:59:11.302 +03:00 [DBG] Connection id "0HN3U4BI28P5F" completed keep alive response.
2024-05-27 10:59:11.304 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 9.5141ms
2024-05-27 10:59:11.333 +03:00 [DBG] Connection id "0HN3U4BI28P5G" completed keep alive response.
2024-05-27 10:59:11.334 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.6196ms
2024-05-27 10:59:12.052 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 10:59:12.054 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 10:59:12.054 +03:00 [DBG] Request did not match any endpoints
2024-05-27 10:59:12.199 +03:00 [DBG] Connection id "0HN3U4BI28P5G" completed keep alive response.
2024-05-27 10:59:12.200 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.9099ms
2024-05-27 10:59:19.426 +03:00 [DBG] Connection id "0HN3U4BI28P5G" received FIN.
2024-05-27 10:59:19.426 +03:00 [DBG] Connection id "0HN3U4BI28P5F" received FIN.
2024-05-27 10:59:19.426 +03:00 [DBG] Connection id "0HN3U4BI28P5G" sending FIN because: "The client closed the connection."
2024-05-27 10:59:19.427 +03:00 [DBG] Connection id "0HN3U4BI28P5F" sending FIN because: "The client closed the connection."
2024-05-27 10:59:19.428 +03:00 [DBG] Connection id "0HN3U4BI28P5G" disconnecting.
2024-05-27 10:59:19.428 +03:00 [DBG] Connection id "0HN3U4BI28P5F" disconnecting.
2024-05-27 10:59:19.430 +03:00 [DBG] Connection id "0HN3U4BI28P5G" stopped.
2024-05-27 10:59:19.431 +03:00 [DBG] Connection id "0HN3U4BI28P5F" stopped.
2024-05-27 11:00:13.528 +03:00 [DBG] Connection id "0HN3U4BI28P5H" accepted.
2024-05-27 11:00:13.532 +03:00 [DBG] Connection id "0HN3U4BI28P5H" started.
2024-05-27 11:00:13.533 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Ratings - -
2024-05-27 11:00:13.536 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 11:00:13.539 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 11:00:13.540 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 11:00:13.546 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 11:00:14.031 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 11:00:14.033 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 11:00:14.052 +03:00 [INF] Route matched with {action = "Get", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 11:00:14.054 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 11:00:14.055 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 11:00:14.056 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 11:00:14.057 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 11:00:14.058 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 11:00:14.059 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 11:00:14.274 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 11:00:14.679 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 11:00:14.682 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 11:00:14.835 +03:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Where(x => x.IsActivated == __isActive_Value_0)'
2024-05-27 11:00:14.947 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rating>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rating.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rating.CreatedBy (int) Required, 1], [Property: Rating.CreatedOn (DateTime) Required, 2], [Property: Rating.Description (string) MaxLength(300), 3], [Property: Rating.IsActivated (bool) Required, 4], [Property: Rating.Name (string) Required MaxLength(10), 5], [Property: Rating.UpdatedBy (int?), 6], [Property: Rating.UpdatedOn (DateTime?), 7] }
        SELECT r.Id, r.CreatedBy, r.CreatedOn, r.Description, r.IsActivated, r.Name, r.UpdatedBy, r.UpdatedOn
        FROM Ratings AS r
        WHERE r.IsActivated == @__isActive_Value_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rating>, 
    GL.Data.Contexts.GameLibraryDbContext, 
    False, 
    False, 
    True
)'
2024-05-27 11:00:14.971 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 11:00:14.972 +03:00 [DBG] Creating DbConnection.
2024-05-27 11:00:14.987 +03:00 [DBG] Created DbConnection. (12ms).
2024-05-27 11:00:14.993 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2024-05-27 11:00:15.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-05-27 11:00:15.003 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:00:16.038 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:00:16.044 +03:00 [DBG] Executing DbCommand [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 11:00:16.107 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 11:00:16.139 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 11:00:16.161 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:00:16.166 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 54ms reading results.
2024-05-27 11:00:16.169 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:00:16.173 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-27 11:00:16.176 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 11:00:16.179 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 11:00:16.181 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 11:00:16.182 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.GetRatingsResponse'.
2024-05-27 11:00:16.201 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI) in 2140.7471ms
2024-05-27 11:00:16.203 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 11:00:16.203 +03:00 [DBG] Connection id "0HN3U4BI28P5H" completed keep alive response.
2024-05-27 11:00:16.205 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 11:00:16.207 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:00:16.208 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 11:00:16.209 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Ratings - - - 200 - application/json;+charset=utf-8 2676.4665ms
2024-05-27 11:00:37.613 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Genres - -
2024-05-27 11:00:37.615 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Genres'
2024-05-27 11:00:37.615 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.GenresController.Get (GL.WebAPI)' with route pattern 'api/Genres' is valid for the request path '/api/Genres'
2024-05-27 11:00:37.616 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.GenresController.Get (GL.WebAPI)'
2024-05-27 11:00:37.617 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 11:00:37.620 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 11:00:37.624 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-27 11:00:37.628 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-27 11:00:37.629 +03:00 [DBG] Connection id "0HN3U4BI28P5H" completed keep alive response.
2024-05-27 11:00:37.629 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Genres - - - 401 0 - 16.5349ms
2024-05-27 11:03:20.973 +03:00 [INF] Application is starting!
2024-05-27 11:03:21.527 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 11:03:21.608 +03:00 [DBG] Hosting starting
2024-05-27 11:03:21.636 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 11:03:21.639 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 11:03:21.647 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 11:03:21.653 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 11:03:21.656 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 11:03:21.658 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 11:03:21.659 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 11:03:21.662 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 11:03:21.664 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 11:03:21.666 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 11:03:21.667 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 11:03:21.781 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 11:03:21.782 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 11:03:21.783 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 11:03:21.784 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 11:03:21.784 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 11:03:21.785 +03:00 [INF] Hosting environment: Development
2024-05-27 11:03:21.786 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 11:03:21.786 +03:00 [DBG] Hosting started
2024-05-27 11:03:22.278 +03:00 [DBG] Connection id "0HN3U4DT6SROP" accepted.
2024-05-27 11:03:22.278 +03:00 [DBG] Connection id "0HN3U4DT6SROQ" accepted.
2024-05-27 11:03:22.280 +03:00 [DBG] Connection id "0HN3U4DT6SROP" started.
2024-05-27 11:03:22.280 +03:00 [DBG] Connection id "0HN3U4DT6SROQ" started.
2024-05-27 11:03:22.297 +03:00 [DBG] Connection id "0HN3U4DT6SROP" received FIN.
2024-05-27 11:03:22.297 +03:00 [DBG] Connection id "0HN3U4DT6SROQ" received FIN.
2024-05-27 11:03:22.305 +03:00 [DBG] Connection id "0HN3U4DT6SROP" sending FIN because: "The client closed the connection."
2024-05-27 11:03:22.305 +03:00 [DBG] Connection id "0HN3U4DT6SROQ" sending FIN because: "The client closed the connection."
2024-05-27 11:03:22.309 +03:00 [DBG] Connection id "0HN3U4DT6SROP" disconnecting.
2024-05-27 11:03:22.310 +03:00 [DBG] Connection id "0HN3U4DT6SROQ" disconnecting.
2024-05-27 11:03:22.316 +03:00 [DBG] Connection id "0HN3U4DT6SROP" stopped.
2024-05-27 11:03:22.316 +03:00 [DBG] Connection id "0HN3U4DT6SROQ" stopped.
2024-05-27 11:03:22.406 +03:00 [DBG] Connection id "0HN3U4DT6SROR" accepted.
2024-05-27 11:03:22.407 +03:00 [DBG] Connection id "0HN3U4DT6SROR" started.
2024-05-27 11:03:22.408 +03:00 [DBG] Connection id "0HN3U4DT6SROS" accepted.
2024-05-27 11:03:22.409 +03:00 [DBG] Connection id "0HN3U4DT6SROS" started.
2024-05-27 11:03:22.450 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 11:03:22.471 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 11:03:22.494 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 11:03:22.495 +03:00 [DBG] Request did not match any endpoints
2024-05-27 11:03:22.568 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 11:03:22.632 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 11:03:22.633 +03:00 [DBG] Connection id "0HN3U4DT6SROR" completed keep alive response.
2024-05-27 11:03:22.635 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 188.5327ms
2024-05-27 11:03:22.741 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 11:03:22.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 11:03:22.747 +03:00 [DBG] Connection id "0HN3U4DT6SROR" completed keep alive response.
2024-05-27 11:03:22.749 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 6.4932ms
2024-05-27 11:03:22.759 +03:00 [DBG] Connection id "0HN3U4DT6SROS" completed keep alive response.
2024-05-27 11:03:22.760 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.2667ms
2024-05-27 11:03:23.335 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 11:03:23.336 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 11:03:23.337 +03:00 [DBG] Request did not match any endpoints
2024-05-27 11:03:23.487 +03:00 [DBG] Connection id "0HN3U4DT6SROS" completed keep alive response.
2024-05-27 11:03:23.487 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.0098ms
2024-05-27 11:04:07.772 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Ratings - -
2024-05-27 11:04:07.780 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 11:04:07.783 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 11:04:07.784 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 11:04:07.786 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 11:04:07.830 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 11:04:07.836 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-27 11:04:07.839 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-27 11:04:07.839 +03:00 [DBG] Connection id "0HN3U4DT6SROS" completed keep alive response.
2024-05-27 11:04:07.840 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Ratings - - - 401 0 - 68.3741ms
2024-05-27 11:04:15.800 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Authorization?clientId=fmi&secret=fmi - -
2024-05-27 11:04:15.801 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authorization'
2024-05-27 11:04:15.802 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI)' with route pattern 'api/Authorization' is valid for the request path '/api/Authorization'
2024-05-27 11:04:15.803 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI)'
2024-05-27 11:04:15.803 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 11:04:15.805 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 11:04:15.806 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI)'
2024-05-27 11:04:15.827 +03:00 [INF] Route matched with {action = "Token", controller = "Authorization"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token(System.String, System.String) on controller GL.WebAPI.Controllers.AuthorizationController (GL.WebAPI).
2024-05-27 11:04:15.829 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 11:04:15.830 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 11:04:15.830 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 11:04:15.832 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 11:04:15.833 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 11:04:15.835 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthorizationController (GL.WebAPI)
2024-05-27 11:04:15.835 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthorizationController (GL.WebAPI)
2024-05-27 11:04:15.842 +03:00 [DBG] Attempting to bind parameter 'clientId' of type 'System.String' ...
2024-05-27 11:04:15.844 +03:00 [DBG] Attempting to bind parameter 'clientId' of type 'System.String' using the name 'clientId' in request data ...
2024-05-27 11:04:15.845 +03:00 [DBG] Done attempting to bind parameter 'clientId' of type 'System.String'.
2024-05-27 11:04:15.846 +03:00 [DBG] Done attempting to bind parameter 'clientId' of type 'System.String'.
2024-05-27 11:04:15.846 +03:00 [DBG] Attempting to validate the bound parameter 'clientId' of type 'System.String' ...
2024-05-27 11:04:15.851 +03:00 [DBG] Done attempting to validate the bound parameter 'clientId' of type 'System.String'.
2024-05-27 11:04:15.852 +03:00 [DBG] Attempting to bind parameter 'secret' of type 'System.String' ...
2024-05-27 11:04:15.853 +03:00 [DBG] Attempting to bind parameter 'secret' of type 'System.String' using the name 'secret' in request data ...
2024-05-27 11:04:15.853 +03:00 [DBG] Done attempting to bind parameter 'secret' of type 'System.String'.
2024-05-27 11:04:15.854 +03:00 [DBG] Done attempting to bind parameter 'secret' of type 'System.String'.
2024-05-27 11:04:15.854 +03:00 [DBG] Attempting to validate the bound parameter 'secret' of type 'System.String' ...
2024-05-27 11:04:15.855 +03:00 [DBG] Done attempting to validate the bound parameter 'secret' of type 'System.String'.
2024-05-27 11:04:15.910 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 11:04:15.913 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 11:04:15.913 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2024-05-27 11:04:15.914 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 11:04:15.915 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Authentications.AuthenticationResponse'.
2024-05-27 11:04:15.932 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI) in 96.8894ms
2024-05-27 11:04:15.934 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthorizationController.Token (GL.WebAPI)'
2024-05-27 11:04:15.934 +03:00 [DBG] Connection id "0HN3U4DT6SROS" completed keep alive response.
2024-05-27 11:04:15.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Authorization?clientId=fmi&secret=fmi - - - 200 - application/json;+charset=utf-8 135.0884ms
2024-05-27 11:04:26.169 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Ratings - -
2024-05-27 11:04:26.170 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 11:04:26.171 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 11:04:26.171 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 11:04:26.172 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 11:04:26.197 +03:00 [DBG] Successfully validated the token.
2024-05-27 11:04:26.198 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 11:04:26.200 +03:00 [DBG] Authorization was successful.
2024-05-27 11:04:26.201 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 11:04:26.204 +03:00 [INF] Route matched with {action = "Get", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 11:04:26.205 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 11:04:26.205 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 11:04:26.206 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 11:04:26.207 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 11:04:26.208 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 11:04:26.209 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 11:04:26.286 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 11:04:26.670 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 11:04:26.672 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 11:04:26.714 +03:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Where(x => x.IsActivated == __isActive_Value_0)'
2024-05-27 11:04:26.829 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rating>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rating.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rating.CreatedBy (int) Required, 1], [Property: Rating.CreatedOn (DateTime) Required, 2], [Property: Rating.Description (string) MaxLength(300), 3], [Property: Rating.IsActivated (bool) Required, 4], [Property: Rating.Name (string) Required MaxLength(10), 5], [Property: Rating.UpdatedBy (int?), 6], [Property: Rating.UpdatedOn (DateTime?), 7] }
        SELECT r.Id, r.CreatedBy, r.CreatedOn, r.Description, r.IsActivated, r.Name, r.UpdatedBy, r.UpdatedOn
        FROM Ratings AS r
        WHERE r.IsActivated == @__isActive_Value_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rating>, 
    GL.Data.Contexts.GameLibraryDbContext, 
    False, 
    False, 
    True
)'
2024-05-27 11:04:26.857 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 11:04:26.859 +03:00 [DBG] Creating DbConnection.
2024-05-27 11:04:26.873 +03:00 [DBG] Created DbConnection. (12ms).
2024-05-27 11:04:26.878 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2024-05-27 11:04:26.885 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-05-27 11:04:26.888 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:04:27.085 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:04:27.091 +03:00 [DBG] Executing DbCommand [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 11:04:27.126 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 11:04:27.156 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 11:04:27.177 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:04:27.182 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 51ms reading results.
2024-05-27 11:04:27.185 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:04:27.189 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-27 11:04:27.191 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 11:04:27.193 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 11:04:27.195 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 11:04:27.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.GetRatingsResponse'.
2024-05-27 11:04:27.202 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI) in 993.4276ms
2024-05-27 11:04:27.203 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 11:04:27.204 +03:00 [DBG] Connection id "0HN3U4DT6SROS" completed keep alive response.
2024-05-27 11:04:27.206 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 11:04:27.207 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 11:04:27.208 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 11:04:27.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Ratings - - - 200 - application/json;+charset=utf-8 1040.4025ms
2024-05-27 12:42:31.905 +03:00 [INF] Application is starting!
2024-05-27 12:42:32.011 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 12:42:51.541 +03:00 [INF] Application is starting!
2024-05-27 12:42:51.634 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 12:43:17.169 +03:00 [INF] Application is starting!
2024-05-27 12:43:17.261 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 12:43:45.190 +03:00 [INF] Application is starting!
2024-05-27 12:43:45.283 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 12:44:18.485 +03:00 [INF] Application is starting!
2024-05-27 12:44:18.854 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 12:44:18.914 +03:00 [DBG] Hosting starting
2024-05-27 12:44:18.935 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 12:44:18.938 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 12:44:18.945 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 12:44:18.952 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 12:44:18.954 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 12:44:18.956 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 12:44:18.957 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 12:44:18.960 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 12:44:18.962 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 12:44:18.963 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 12:44:18.964 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 12:44:19.034 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 12:44:19.035 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 12:44:19.035 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 12:44:19.036 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 12:44:19.036 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 12:44:19.037 +03:00 [INF] Hosting environment: Development
2024-05-27 12:44:19.037 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 12:44:19.038 +03:00 [DBG] Hosting started
2024-05-27 12:44:19.491 +03:00 [DBG] Connection id "0HN3U66ACVL90" accepted.
2024-05-27 12:44:19.491 +03:00 [DBG] Connection id "0HN3U66ACVL8V" accepted.
2024-05-27 12:44:19.492 +03:00 [DBG] Connection id "0HN3U66ACVL90" started.
2024-05-27 12:44:19.493 +03:00 [DBG] Connection id "0HN3U66ACVL8V" started.
2024-05-27 12:44:19.501 +03:00 [DBG] Connection id "0HN3U66ACVL90" received FIN.
2024-05-27 12:44:19.501 +03:00 [DBG] Connection id "0HN3U66ACVL8V" received FIN.
2024-05-27 12:44:19.503 +03:00 [DBG] Connection id "0HN3U66ACVL90" sending FIN because: "The client closed the connection."
2024-05-27 12:44:19.503 +03:00 [DBG] Connection id "0HN3U66ACVL8V" sending FIN because: "The client closed the connection."
2024-05-27 12:44:19.506 +03:00 [DBG] Connection id "0HN3U66ACVL90" disconnecting.
2024-05-27 12:44:19.506 +03:00 [DBG] Connection id "0HN3U66ACVL8V" disconnecting.
2024-05-27 12:44:19.508 +03:00 [DBG] Connection id "0HN3U66ACVL90" stopped.
2024-05-27 12:44:19.508 +03:00 [DBG] Connection id "0HN3U66ACVL8V" stopped.
2024-05-27 12:44:20.089 +03:00 [DBG] Connection id "0HN3U66ACVL91" accepted.
2024-05-27 12:44:20.091 +03:00 [DBG] Connection id "0HN3U66ACVL91" started.
2024-05-27 12:44:20.091 +03:00 [DBG] Connection id "0HN3U66ACVL92" accepted.
2024-05-27 12:44:20.093 +03:00 [DBG] Connection id "0HN3U66ACVL92" started.
2024-05-27 12:44:20.141 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 12:44:20.171 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 12:44:20.216 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 12:44:20.217 +03:00 [DBG] Request did not match any endpoints
2024-05-27 12:44:20.334 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 12:44:20.404 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 12:44:20.405 +03:00 [DBG] Connection id "0HN3U66ACVL91" completed keep alive response.
2024-05-27 12:44:20.407 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 269.5629ms
2024-05-27 12:44:20.496 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 12:44:20.498 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 12:44:20.505 +03:00 [DBG] Connection id "0HN3U66ACVL91" completed keep alive response.
2024-05-27 12:44:20.507 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 8.0653ms
2024-05-27 12:44:20.520 +03:00 [DBG] Connection id "0HN3U66ACVL92" completed keep alive response.
2024-05-27 12:44:20.521 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.9799ms
2024-05-27 12:44:21.200 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 12:44:21.202 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 12:44:21.202 +03:00 [DBG] Request did not match any endpoints
2024-05-27 12:44:21.344 +03:00 [DBG] Connection id "0HN3U66ACVL92" completed keep alive response.
2024-05-27 12:44:21.345 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.4629ms
2024-05-27 12:44:48.419 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/register application/json 83
2024-05-27 12:44:48.430 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-05-27 12:44:48.433 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-05-27 12:44:48.434 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI)'
2024-05-27 12:44:48.435 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 12:44:48.475 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 12:44:48.477 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI)'
2024-05-27 12:44:48.494 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GL.Infrastructure.Messaging.Requests.Users.RegisterRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 12:44:48.497 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 12:44:48.498 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 12:44:48.498 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 12:44:48.500 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 12:44:48.500 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 12:44:48.502 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 12:44:48.577 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 12:44:48.967 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 12:44:48.969 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 12:44:48.973 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest' ...
2024-05-27 12:44:48.975 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest' using the name '' in request data ...
2024-05-27 12:44:48.976 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 12:44:49.000 +03:00 [DBG] Connection id "0HN3U66ACVL92", Request id "0HN3U66ACVL92:00000003": started reading request body.
2024-05-27 12:44:49.001 +03:00 [DBG] Connection id "0HN3U66ACVL92", Request id "0HN3U66ACVL92:00000003": done reading request body.
2024-05-27 12:44:49.005 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest'
2024-05-27 12:44:49.006 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest'.
2024-05-27 12:44:49.006 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest'.
2024-05-27 12:44:49.007 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest' ...
2024-05-27 12:44:49.013 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest'.
2024-05-27 12:44:49.070 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 12:44:49.170 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 12:44:49.195 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 12:44:49.197 +03:00 [DBG] Creating DbConnection.
2024-05-27 12:44:49.210 +03:00 [DBG] Created DbConnection. (11ms).
2024-05-27 12:44:49.215 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-27 12:44:49.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-05-27 12:44:49.225 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.375 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.381 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 12:44:49.415 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 12:44:49.424 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.429 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-05-27 12:44:49.432 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.435 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-27 12:44:49.459 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 12:44:49.496 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 12:44:49.500 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 12:44:49.502 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 12:44:49.511 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 12:44:49.557 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.559 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.561 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 12:44:49.561 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-27 12:44:49.563 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-27 12:44:49.563 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 12:44:49.568 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 12:44:49.578 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 12:44:49.582 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.583 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-05-27 12:44:49.584 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.585 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 12:44:49.592 +03:00 [DBG] An entity of type 'User' tracked by 'GameLibraryDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 12:44:49.594 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-27 12:44:49.598 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 12:44:49.601 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 12:44:49.601 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 12:44:49.602 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 12:44:49.602 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 12:44:49.603 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 12:44:49.611 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI) in 1107.9336ms
2024-05-27 12:44:49.612 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI)'
2024-05-27 12:44:49.613 +03:00 [DBG] Connection id "0HN3U66ACVL92" completed keep alive response.
2024-05-27 12:44:49.615 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 12:44:49.616 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:44:49.618 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 12:44:49.619 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/register application/json 83 - 200 - application/json;+charset=utf-8 1199.9993ms
2024-05-27 12:45:06.257 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 12:45:06.258 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 12:45:06.259 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 12:45:06.260 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 12:45:06.260 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 12:45:06.262 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 12:45:06.262 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 12:45:06.266 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 12:45:06.267 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 12:45:06.268 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 12:45:06.268 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 12:45:06.269 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 12:45:06.270 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 12:45:06.271 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 12:45:06.303 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 12:45:06.305 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 12:45:06.305 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 12:45:06.306 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 12:45:06.307 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 12:45:06.308 +03:00 [DBG] Connection id "0HN3U66ACVL92", Request id "0HN3U66ACVL92:00000004": started reading request body.
2024-05-27 12:45:06.309 +03:00 [DBG] Connection id "0HN3U66ACVL92", Request id "0HN3U66ACVL92:00000004": done reading request body.
2024-05-27 12:45:06.310 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 12:45:06.311 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 12:45:06.311 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 12:45:06.312 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 12:45:06.314 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 12:45:06.317 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 12:45:06.318 +03:00 [DBG] Creating DbConnection.
2024-05-27 12:45:06.318 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 12:45:06.319 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 12:45:06.320 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-27 12:45:06.320 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:06.321 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:06.321 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 12:45:06.323 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 12:45:06.328 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 12:45:06.329 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:06.329 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-05-27 12:45:06.330 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:06.331 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 12:45:06.353 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 12:45:06.355 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 12:45:06.355 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 12:45:06.356 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 12:45:06.356 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 12:45:06.357 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 12:45:06.358 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 87.0896ms
2024-05-27 12:45:06.359 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 12:45:06.359 +03:00 [DBG] Connection id "0HN3U66ACVL92" completed keep alive response.
2024-05-27 12:45:06.360 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 12:45:06.360 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:06.361 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-27 12:45:06.362 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 105.2352ms
2024-05-27 12:45:24.924 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Games?isActive=true - -
2024-05-27 12:45:24.924 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Games'
2024-05-27 12:45:24.925 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.GamesController.Get (GL.WebAPI)' with route pattern 'api/Games' is valid for the request path '/api/Games'
2024-05-27 12:45:24.926 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.GamesController.Get (GL.WebAPI)'
2024-05-27 12:45:24.927 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 12:45:24.969 +03:00 [DBG] Successfully validated the token.
2024-05-27 12:45:24.971 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 12:45:24.975 +03:00 [DBG] Authorization was successful.
2024-05-27 12:45:24.975 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.GamesController.Get (GL.WebAPI)'
2024-05-27 12:45:24.981 +03:00 [INF] Route matched with {action = "Get", controller = "Games"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Boolean) on controller GL.WebAPI.Controllers.GamesController (GL.WebAPI).
2024-05-27 12:45:24.982 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 12:45:24.983 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 12:45:24.984 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 12:45:24.985 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 12:45:24.986 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 12:45:24.987 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.GamesController (GL.WebAPI)
2024-05-27 12:45:24.994 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 12:45:24.995 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.GamesController (GL.WebAPI)
2024-05-27 12:45:24.998 +03:00 [DBG] Attempting to bind parameter 'isActive' of type 'System.Boolean' ...
2024-05-27 12:45:24.999 +03:00 [DBG] Attempting to bind parameter 'isActive' of type 'System.Boolean' using the name 'isActive' in request data ...
2024-05-27 12:45:25.001 +03:00 [DBG] Done attempting to bind parameter 'isActive' of type 'System.Boolean'.
2024-05-27 12:45:25.002 +03:00 [DBG] Done attempting to bind parameter 'isActive' of type 'System.Boolean'.
2024-05-27 12:45:25.002 +03:00 [DBG] Attempting to validate the bound parameter 'isActive' of type 'System.Boolean' ...
2024-05-27 12:45:25.003 +03:00 [DBG] Done attempting to validate the bound parameter 'isActive' of type 'System.Boolean'.
2024-05-27 12:45:25.011 +03:00 [DBG] Compiling query expression: 
'DbSet<Game>()
    .Where(x => x.IsActivated == __isActive_Value_0)
    .Include("Genre")
    .Include("Rating")'
2024-05-27 12:45:25.021 +03:00 [DBG] Including navigation: 'Game.Genre'.
2024-05-27 12:45:25.022 +03:00 [DBG] Including navigation: 'Game.Rating'.
2024-05-27 12:45:25.055 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Game>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Game.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Game.CreatedBy (int) Required, 1], [Property: Game.CreatedOn (DateTime) Required, 2], [Property: Game.GenreId (int) Required FK Index, 3], [Property: Game.IsActivated (bool) Required, 4], [Property: Game.RatingId (int?) FK Index, 5], [Property: Game.ReleaseDate (DateTime?), 6], [Property: Game.Studio (string), 7], [Property: Game.Title (string) Required, 8], [Property: Game.UpdatedBy (int?), 9], [Property: Game.UpdatedOn (DateTime?), 10] }
            1 -> Dictionary<IProperty, int> { [Property: Genre.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Genre.CreatedBy (int) Required, 12], [Property: Genre.CreatedOn (DateTime) Required, 13], [Property: Genre.IsActivated (bool) Required, 14], [Property: Genre.Name (string) Required, 15], [Property: Genre.UpdatedBy (int?), 16], [Property: Genre.UpdatedOn (DateTime?), 17] }
            2 -> Dictionary<IProperty, int> { [Property: Rating.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Rating.CreatedBy (int) Required, 19], [Property: Rating.CreatedOn (DateTime) Required, 20], [Property: Rating.Description (string) MaxLength(300), 21], [Property: Rating.IsActivated (bool) Required, 22], [Property: Rating.Name (string) Required MaxLength(10), 23], [Property: Rating.UpdatedBy (int?), 24], [Property: Rating.UpdatedOn (DateTime?), 25] }
        SELECT g.Id, g.CreatedBy, g.CreatedOn, g.GenreId, g.IsActivated, g.RatingId, g.ReleaseDate, g.Studio, g.Title, g.UpdatedBy, g.UpdatedOn, g0.Id, g0.CreatedBy, g0.CreatedOn, g0.IsActivated, g0.Name, g0.UpdatedBy, g0.UpdatedOn, r.Id, r.CreatedBy, r.CreatedOn, r.Description, r.IsActivated, r.Name, r.UpdatedBy, r.UpdatedOn
        FROM Games AS g
        INNER JOIN Genres AS g0 ON g.GenreId == g0.Id
        LEFT JOIN Ratings AS r ON g.RatingId == r.Id
        WHERE g.IsActivated == @__isActive_Value_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Game>, 
    GL.Data.Contexts.GameLibraryDbContext, 
    False, 
    False, 
    True
)'
2024-05-27 12:45:25.059 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 12:45:25.060 +03:00 [DBG] Creating DbConnection.
2024-05-27 12:45:25.060 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 12:45:25.061 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 12:45:25.061 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-27 12:45:25.062 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:25.063 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:25.063 +03:00 [DBG] Executing DbCommand [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CreatedBy], [g].[CreatedOn], [g].[GenreId], [g].[IsActivated], [g].[RatingId], [g].[ReleaseDate], [g].[Studio], [g].[Title], [g].[UpdatedBy], [g].[UpdatedOn], [g0].[Id], [g0].[CreatedBy], [g0].[CreatedOn], [g0].[IsActivated], [g0].[Name], [g0].[UpdatedBy], [g0].[UpdatedOn], [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn]
FROM [Games] AS [g]
INNER JOIN [Genres] AS [g0] ON [g].[GenreId] = [g0].[Id]
LEFT JOIN [Ratings] AS [r] ON [g].[RatingId] = [r].[Id]
WHERE [g].[IsActivated] = @__isActive_Value_0
2024-05-27 12:45:25.069 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CreatedBy], [g].[CreatedOn], [g].[GenreId], [g].[IsActivated], [g].[RatingId], [g].[ReleaseDate], [g].[Studio], [g].[Title], [g].[UpdatedBy], [g].[UpdatedOn], [g0].[Id], [g0].[CreatedBy], [g0].[CreatedOn], [g0].[IsActivated], [g0].[Name], [g0].[UpdatedBy], [g0].[UpdatedOn], [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn]
FROM [Games] AS [g]
INNER JOIN [Genres] AS [g0] ON [g].[GenreId] = [g0].[Id]
LEFT JOIN [Ratings] AS [r] ON [g].[RatingId] = [r].[Id]
WHERE [g].[IsActivated] = @__isActive_Value_0
2024-05-27 12:45:25.074 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Game' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 12:45:25.096 +03:00 [DBG] The navigation 'Game.Genre' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 12:45:25.100 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Genre' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 12:45:25.110 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Game' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 12:45:25.111 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:25.112 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 40ms reading results.
2024-05-27 12:45:25.113 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:25.114 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 12:45:25.115 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 12:45:25.117 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 12:45:25.119 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 12:45:25.119 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Games.GetGamesResponse'.
2024-05-27 12:45:25.132 +03:00 [INF] Executed action GL.WebAPI.Controllers.GamesController.Get (GL.WebAPI) in 145.1432ms
2024-05-27 12:45:25.133 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.GamesController.Get (GL.WebAPI)'
2024-05-27 12:45:25.133 +03:00 [DBG] Connection id "0HN3U66ACVL92" completed keep alive response.
2024-05-27 12:45:25.134 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 12:45:25.135 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 12:45:25.135 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-27 12:45:25.136 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Games?isActive=true - - - 200 - application/json;+charset=utf-8 212.8395ms
2024-05-27 12:45:43.875 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Games?isActive=true - -
2024-05-27 12:45:43.876 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Games'
2024-05-27 12:45:43.876 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.GamesController.Get (GL.WebAPI)' with route pattern 'api/Games' is valid for the request path '/api/Games'
2024-05-27 12:45:43.877 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.GamesController.Get (GL.WebAPI)'
2024-05-27 12:45:43.878 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 12:45:43.878 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 12:45:43.880 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-27 12:45:43.884 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-27 12:45:43.884 +03:00 [DBG] Connection id "0HN3U66ACVL92" completed keep alive response.
2024-05-27 12:45:43.885 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Games?isActive=true - - - 401 0 - 10.2258ms
2024-05-27 12:49:54.571 +03:00 [DBG] Connection id "0HN3U66ACVL91" received FIN.
2024-05-27 12:49:54.574 +03:00 [DBG] Connection id "0HN3U66ACVL91" sending FIN because: "The client closed the connection."
2024-05-27 12:49:54.575 +03:00 [DBG] Connection id "0HN3U66ACVL91" disconnecting.
2024-05-27 12:49:54.579 +03:00 [DBG] Connection id "0HN3U66ACVL91" stopped.
2024-05-27 12:50:54.577 +03:00 [DBG] Connection id "0HN3U66ACVL92" received FIN.
2024-05-27 12:50:54.581 +03:00 [DBG] Connection id "0HN3U66ACVL92" sending FIN because: "The client closed the connection."
2024-05-27 12:50:54.581 +03:00 [DBG] Connection id "0HN3U66ACVL92" disconnecting.
2024-05-27 12:50:54.585 +03:00 [DBG] Connection id "0HN3U66ACVL92" stopped.
2024-05-27 13:07:55.359 +03:00 [INF] Application is starting!
2024-05-27 13:07:55.456 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:08:01.541 +03:00 [INF] Application is starting!
2024-05-27 13:08:01.647 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:36:41.517 +03:00 [INF] Application is starting!
2024-05-27 13:36:41.615 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:36:58.465 +03:00 [INF] Application is starting!
2024-05-27 13:36:58.556 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:37:05.128 +03:00 [INF] Application is starting!
2024-05-27 13:37:05.222 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:40:30.296 +03:00 [INF] Application is starting!
2024-05-27 13:40:30.388 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:40:34.215 +03:00 [INF] Application is starting!
2024-05-27 13:40:34.307 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:40:40.913 +03:00 [INF] Application is starting!
2024-05-27 13:40:41.007 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:40:46.404 +03:00 [INF] Application is starting!
2024-05-27 13:40:46.810 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 13:40:46.875 +03:00 [DBG] Hosting starting
2024-05-27 13:40:46.904 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 13:40:46.907 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 13:40:46.914 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 13:40:46.922 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 13:40:46.924 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 13:40:46.926 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 13:40:46.928 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 13:40:46.930 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 13:40:46.932 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 13:40:46.934 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 13:40:46.934 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 13:40:47.033 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 13:40:47.034 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 13:40:47.035 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 13:40:47.038 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 13:40:47.041 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 13:40:47.041 +03:00 [INF] Hosting environment: Development
2024-05-27 13:40:47.044 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 13:40:47.045 +03:00 [DBG] Hosting started
2024-05-27 13:40:47.229 +03:00 [DBG] Connection id "0HN3U75S0VBLF" received FIN.
2024-05-27 13:40:47.229 +03:00 [DBG] Connection id "0HN3U75S0VBLG" received FIN.
2024-05-27 13:40:47.234 +03:00 [DBG] Connection id "0HN3U75S0VBLG" accepted.
2024-05-27 13:40:47.234 +03:00 [DBG] Connection id "0HN3U75S0VBLF" accepted.
2024-05-27 13:40:47.235 +03:00 [DBG] Connection id "0HN3U75S0VBLG" started.
2024-05-27 13:40:47.235 +03:00 [DBG] Connection id "0HN3U75S0VBLF" started.
2024-05-27 13:40:47.242 +03:00 [DBG] Connection id "0HN3U75S0VBLG" sending FIN because: "The client closed the connection."
2024-05-27 13:40:47.242 +03:00 [DBG] Connection id "0HN3U75S0VBLF" sending FIN because: "The client closed the connection."
2024-05-27 13:40:47.244 +03:00 [DBG] Connection id "0HN3U75S0VBLG" disconnecting.
2024-05-27 13:40:47.245 +03:00 [DBG] Connection id "0HN3U75S0VBLF" disconnecting.
2024-05-27 13:40:47.251 +03:00 [DBG] Connection id "0HN3U75S0VBLG" stopped.
2024-05-27 13:40:47.251 +03:00 [DBG] Connection id "0HN3U75S0VBLF" stopped.
2024-05-27 13:40:47.376 +03:00 [DBG] Connection id "0HN3U75S0VBLH" accepted.
2024-05-27 13:40:47.378 +03:00 [DBG] Connection id "0HN3U75S0VBLH" started.
2024-05-27 13:40:47.378 +03:00 [DBG] Connection id "0HN3U75S0VBLI" accepted.
2024-05-27 13:40:47.380 +03:00 [DBG] Connection id "0HN3U75S0VBLI" started.
2024-05-27 13:40:47.420 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 13:40:47.441 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 13:40:47.467 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 13:40:47.469 +03:00 [DBG] Request did not match any endpoints
2024-05-27 13:40:47.582 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 13:40:47.647 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 13:40:47.648 +03:00 [DBG] Connection id "0HN3U75S0VBLH" completed keep alive response.
2024-05-27 13:40:47.650 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 232.1515ms
2024-05-27 13:40:47.748 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 13:40:47.749 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 13:40:47.760 +03:00 [DBG] Connection id "0HN3U75S0VBLH" completed keep alive response.
2024-05-27 13:40:47.761 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 12.0093ms
2024-05-27 13:40:47.770 +03:00 [DBG] Connection id "0HN3U75S0VBLI" completed keep alive response.
2024-05-27 13:40:47.771 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.8365ms
2024-05-27 13:40:48.354 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 13:40:48.356 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 13:40:48.356 +03:00 [DBG] Request did not match any endpoints
2024-05-27 13:40:48.506 +03:00 [DBG] Connection id "0HN3U75S0VBLI" completed keep alive response.
2024-05-27 13:40:48.508 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.5502ms
2024-05-27 13:41:20.571 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 74
2024-05-27 13:41:20.578 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 13:41:20.581 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 13:41:20.582 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:41:20.583 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:41:20.627 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 13:41:20.631 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-27 13:41:20.634 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-27 13:41:20.635 +03:00 [DBG] Connection id "0HN3U75S0VBLI" completed keep alive response.
2024-05-27 13:41:20.635 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 74 - 401 0 - 63.8276ms
2024-05-27 13:41:20.636 +03:00 [DBG] Connection id "0HN3U75S0VBLI", Request id "0HN3U75S0VBLI:00000003": started reading request body.
2024-05-27 13:41:20.637 +03:00 [DBG] Connection id "0HN3U75S0VBLI", Request id "0HN3U75S0VBLI:00000003": done reading request body.
2024-05-27 13:41:40.132 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/register application/json 83
2024-05-27 13:41:40.134 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2024-05-27 13:41:40.134 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2024-05-27 13:41:40.135 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI)'
2024-05-27 13:41:40.135 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:41:40.138 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 13:41:40.139 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI)'
2024-05-27 13:41:40.156 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GL.Infrastructure.Messaging.Requests.Users.RegisterRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 13:41:40.158 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:41:40.159 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:41:40.160 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:41:40.161 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:41:40.161 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 13:41:40.163 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:41:40.236 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 13:41:40.626 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:41:40.628 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:41:40.631 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest' ...
2024-05-27 13:41:40.633 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest' using the name '' in request data ...
2024-05-27 13:41:40.635 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:41:40.646 +03:00 [DBG] Connection id "0HN3U75S0VBLI", Request id "0HN3U75S0VBLI:00000004": started reading request body.
2024-05-27 13:41:40.647 +03:00 [DBG] Connection id "0HN3U75S0VBLI", Request id "0HN3U75S0VBLI:00000004": done reading request body.
2024-05-27 13:41:40.650 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest'
2024-05-27 13:41:40.651 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest'.
2024-05-27 13:41:40.651 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest'.
2024-05-27 13:41:40.652 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest' ...
2024-05-27 13:41:40.659 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.RegisterRequest'.
2024-05-27 13:41:40.714 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 13:41:40.817 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 13:41:40.842 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 13:41:40.844 +03:00 [DBG] Creating DbConnection.
2024-05-27 13:41:40.856 +03:00 [DBG] Created DbConnection. (10ms).
2024-05-27 13:41:40.861 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-27 13:41:40.867 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-05-27 13:41:40.870 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.017 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.024 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:41:41.069 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:41:41.079 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.083 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 10ms reading results.
2024-05-27 13:41:41.086 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.091 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (4ms).
2024-05-27 13:41:41.116 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 13:41:41.156 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 13:41:41.160 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 13:41:41.162 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 13:41:41.171 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 13:41:41.209 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.210 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.212 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 13:41:41.213 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-27 13:41:41.214 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-27 13:41:41.215 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 13:41:41.221 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [Email], [IsActivated], [Password], [UpdatedBy], [UpdatedOn], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 13:41:41.232 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 13:41:41.236 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.237 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-05-27 13:41:41.238 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.239 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 13:41:41.246 +03:00 [DBG] An entity of type 'User' tracked by 'GameLibraryDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 13:41:41.248 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-27 13:41:41.251 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 13:41:41.253 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 13:41:41.254 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 13:41:41.254 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 13:41:41.255 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 13:41:41.256 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 13:41:41.264 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI) in 1099.6945ms
2024-05-27 13:41:41.265 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Register (GL.WebAPI)'
2024-05-27 13:41:41.266 +03:00 [DBG] Connection id "0HN3U75S0VBLI" completed keep alive response.
2024-05-27 13:41:41.267 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:41:41.269 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:41.270 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 13:41:41.272 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/register application/json 83 - 200 - application/json;+charset=utf-8 1139.7153ms
2024-05-27 13:41:54.342 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 13:41:54.343 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 13:41:54.343 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 13:41:54.344 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:41:54.345 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:41:54.345 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 13:41:54.346 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:41:54.350 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 13:41:54.351 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:41:54.351 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:41:54.352 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:41:54.353 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:41:54.354 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 13:41:54.355 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:41:54.387 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:41:54.389 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:41:54.390 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 13:41:54.390 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 13:41:54.391 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:41:54.392 +03:00 [DBG] Connection id "0HN3U75S0VBLI", Request id "0HN3U75S0VBLI:00000005": started reading request body.
2024-05-27 13:41:54.393 +03:00 [DBG] Connection id "0HN3U75S0VBLI", Request id "0HN3U75S0VBLI:00000005": done reading request body.
2024-05-27 13:41:54.394 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 13:41:54.395 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:41:54.395 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:41:54.396 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 13:41:54.398 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:41:54.402 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 13:41:54.403 +03:00 [DBG] Creating DbConnection.
2024-05-27 13:41:54.403 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 13:41:54.404 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 13:41:54.404 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-27 13:41:54.405 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:54.406 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:54.406 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:41:54.408 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:41:54.414 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 13:41:54.415 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:54.415 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-05-27 13:41:54.416 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:54.417 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 13:41:54.440 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 13:41:54.442 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 13:41:54.442 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 13:41:54.443 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 13:41:54.443 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 13:41:54.444 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 13:41:54.445 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 90.3352ms
2024-05-27 13:41:54.445 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:41:54.446 +03:00 [DBG] Connection id "0HN3U75S0VBLI" completed keep alive response.
2024-05-27 13:41:54.446 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:41:54.447 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:41:54.448 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-27 13:41:54.448 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 106.6013ms
2024-05-27 13:42:10.796 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 74
2024-05-27 13:42:10.797 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 13:42:10.798 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 13:42:10.798 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:42:10.799 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:42:10.824 +03:00 [DBG] Successfully validated the token.
2024-05-27 13:42:10.825 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 13:42:10.827 +03:00 [DBG] Authorization was successful.
2024-05-27 13:42:10.828 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:42:10.830 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 13:42:10.831 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:42:10.832 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:42:10.832 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:42:10.833 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:42:10.834 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 13:42:10.835 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 13:42:10.843 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:42:10.844 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 13:42:10.844 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 13:42:10.845 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 13:42:10.846 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:42:10.847 +03:00 [DBG] Connection id "0HN3U75S0VBLI", Request id "0HN3U75S0VBLI:00000006": started reading request body.
2024-05-27 13:42:10.847 +03:00 [DBG] Connection id "0HN3U75S0VBLI", Request id "0HN3U75S0VBLI:00000006": done reading request body.
2024-05-27 13:42:10.848 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 13:42:10.849 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:42:10.850 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:42:10.850 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 13:42:10.854 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:42:10.855 +03:00 [DBG] The request has model state errors, returning an error response.
2024-05-27 13:42:10.857 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-27 13:42:10.857 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 13:42:10.859 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 13:42:10.861 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 13:42:10.861 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-27 13:42:10.867 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 32.1696ms
2024-05-27 13:42:10.868 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:42:10.869 +03:00 [DBG] Connection id "0HN3U75S0VBLI" completed keep alive response.
2024-05-27 13:42:10.869 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:42:10.870 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 74 - 400 - application/json;+charset=utf-8 73.8074ms
2024-05-27 13:42:54.251 +03:00 [INF] Application is starting!
2024-05-27 13:42:54.375 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:43:01.376 +03:00 [INF] Application is starting!
2024-05-27 13:43:01.467 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:43:07.835 +03:00 [INF] Application is starting!
2024-05-27 13:43:08.196 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 13:43:08.250 +03:00 [DBG] Hosting starting
2024-05-27 13:43:08.273 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 13:43:08.275 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 13:43:08.282 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 13:43:08.289 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 13:43:08.291 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 13:43:08.293 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 13:43:08.294 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 13:43:08.297 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 13:43:08.298 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 13:43:08.300 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 13:43:08.301 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 13:43:08.375 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 13:43:08.376 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 13:43:08.376 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 13:43:08.377 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 13:43:08.378 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 13:43:08.378 +03:00 [INF] Hosting environment: Development
2024-05-27 13:43:08.379 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 13:43:08.379 +03:00 [DBG] Hosting started
2024-05-27 13:43:08.536 +03:00 [DBG] Connection id "0HN3U7764IJMK" received FIN.
2024-05-27 13:43:08.541 +03:00 [DBG] Connection id "0HN3U7764IJMK" accepted.
2024-05-27 13:43:08.542 +03:00 [DBG] Connection id "0HN3U7764IJMK" started.
2024-05-27 13:43:08.550 +03:00 [DBG] Connection id "0HN3U7764IJMK" sending FIN because: "The client closed the connection."
2024-05-27 13:43:08.553 +03:00 [DBG] Connection id "0HN3U7764IJMK" disconnecting.
2024-05-27 13:43:08.556 +03:00 [DBG] Connection id "0HN3U7764IJMK" stopped.
2024-05-27 13:43:08.758 +03:00 [DBG] Connection id "0HN3U7764IJML" accepted.
2024-05-27 13:43:08.759 +03:00 [DBG] Connection id "0HN3U7764IJML" started.
2024-05-27 13:43:08.759 +03:00 [DBG] Connection id "0HN3U7764IJMM" accepted.
2024-05-27 13:43:08.833 +03:00 [DBG] Connection id "0HN3U7764IJMM" started.
2024-05-27 13:43:08.866 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 13:43:08.891 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 13:43:08.925 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 13:43:08.927 +03:00 [DBG] Request did not match any endpoints
2024-05-27 13:43:09.039 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 13:43:09.111 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 13:43:09.112 +03:00 [DBG] Connection id "0HN3U7764IJML" completed keep alive response.
2024-05-27 13:43:09.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 251.1253ms
2024-05-27 13:43:09.221 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 13:43:09.222 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 13:43:09.232 +03:00 [DBG] Connection id "0HN3U7764IJML" completed keep alive response.
2024-05-27 13:43:09.234 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 11.2049ms
2024-05-27 13:43:09.246 +03:00 [DBG] Connection id "0HN3U7764IJMM" completed keep alive response.
2024-05-27 13:43:09.247 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.1276ms
2024-05-27 13:43:09.818 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 13:43:09.819 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 13:43:09.819 +03:00 [DBG] Request did not match any endpoints
2024-05-27 13:43:09.958 +03:00 [DBG] Connection id "0HN3U7764IJMM" completed keep alive response.
2024-05-27 13:43:09.959 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.7472ms
2024-05-27 13:43:19.697 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 13:43:19.702 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 13:43:19.706 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 13:43:19.708 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:43:19.709 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:43:19.753 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 13:43:19.755 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:43:19.772 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 13:43:19.774 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:43:19.775 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:43:19.775 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:43:19.776 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:43:19.777 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 13:43:19.779 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:43:19.856 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 13:43:20.237 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:43:20.240 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:43:20.243 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 13:43:20.245 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 13:43:20.246 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:43:20.258 +03:00 [DBG] Connection id "0HN3U7764IJMM", Request id "0HN3U7764IJMM:00000003": started reading request body.
2024-05-27 13:43:20.258 +03:00 [DBG] Connection id "0HN3U7764IJMM", Request id "0HN3U7764IJMM:00000003": done reading request body.
2024-05-27 13:43:20.262 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 13:43:20.262 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:43:20.263 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:43:20.264 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 13:43:20.272 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:43:20.326 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 13:43:20.426 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 13:43:20.451 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 13:43:20.453 +03:00 [DBG] Creating DbConnection.
2024-05-27 13:43:20.465 +03:00 [DBG] Created DbConnection. (10ms).
2024-05-27 13:43:20.472 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-27 13:43:20.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-05-27 13:43:20.482 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:43:20.631 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:43:20.638 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:43:20.673 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:43:20.702 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 13:43:20.726 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:43:20.731 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 54ms reading results.
2024-05-27 13:43:20.734 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:43:20.739 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (4ms).
2024-05-27 13:43:20.764 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 13:43:20.767 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 13:43:20.767 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 13:43:20.768 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 13:43:20.769 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 13:43:20.770 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 13:43:20.778 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 998.3876ms
2024-05-27 13:43:20.779 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:43:20.780 +03:00 [DBG] Connection id "0HN3U7764IJMM" completed keep alive response.
2024-05-27 13:43:20.782 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:43:20.783 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:43:20.784 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 13:43:20.786 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 1088.3556ms
2024-05-27 13:44:07.887 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 95
2024-05-27 13:44:07.890 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 13:44:07.891 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 13:44:07.892 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:44:07.892 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:44:07.916 +03:00 [DBG] Successfully validated the token.
2024-05-27 13:44:07.918 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 13:44:07.921 +03:00 [DBG] Authorization was successful.
2024-05-27 13:44:07.922 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:44:07.925 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 13:44:07.926 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:44:07.927 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:44:07.928 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:44:07.929 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:44:07.930 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 13:44:07.931 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 13:44:07.963 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:44:07.964 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 13:44:07.965 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 13:44:07.966 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 13:44:07.967 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:44:07.968 +03:00 [DBG] Connection id "0HN3U7764IJMM", Request id "0HN3U7764IJMM:00000004": started reading request body.
2024-05-27 13:44:07.969 +03:00 [DBG] Connection id "0HN3U7764IJMM", Request id "0HN3U7764IJMM:00000004": done reading request body.
2024-05-27 13:44:07.970 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 13:44:07.971 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:44:07.972 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:44:07.972 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 13:44:07.976 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:44:07.977 +03:00 [DBG] The request has model state errors, returning an error response.
2024-05-27 13:44:07.978 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-27 13:44:07.979 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 13:44:07.981 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 13:44:07.983 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 13:44:07.984 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-27 13:44:07.990 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 59.7583ms
2024-05-27 13:44:07.991 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:44:07.992 +03:00 [DBG] Connection id "0HN3U7764IJMM" completed keep alive response.
2024-05-27 13:44:07.992 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:44:07.993 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 95 - 400 - application/json;+charset=utf-8 106.6597ms
2024-05-27 13:45:23.250 +03:00 [INF] Application is starting!
2024-05-27 13:45:23.343 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:45:27.824 +03:00 [INF] Application is starting!
2024-05-27 13:45:27.917 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 13:45:35.805 +03:00 [INF] Application is starting!
2024-05-27 13:45:36.214 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 13:45:36.282 +03:00 [DBG] Hosting starting
2024-05-27 13:45:36.309 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 13:45:36.312 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 13:45:36.321 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 13:45:36.329 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 13:45:36.333 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 13:45:36.336 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 13:45:36.338 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 13:45:36.344 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 13:45:36.346 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 13:45:36.348 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 13:45:36.349 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 13:45:36.439 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 13:45:36.440 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 13:45:36.441 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 13:45:36.442 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 13:45:36.443 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 13:45:36.443 +03:00 [INF] Hosting environment: Development
2024-05-27 13:45:36.444 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 13:45:36.444 +03:00 [DBG] Hosting started
2024-05-27 13:45:36.675 +03:00 [DBG] Connection id "0HN3U78I9B5BR" received FIN.
2024-05-27 13:45:36.675 +03:00 [DBG] Connection id "0HN3U78I9B5BQ" received FIN.
2024-05-27 13:45:36.683 +03:00 [DBG] Connection id "0HN3U78I9B5BR" accepted.
2024-05-27 13:45:36.683 +03:00 [DBG] Connection id "0HN3U78I9B5BQ" accepted.
2024-05-27 13:45:36.684 +03:00 [DBG] Connection id "0HN3U78I9B5BR" started.
2024-05-27 13:45:36.685 +03:00 [DBG] Connection id "0HN3U78I9B5BQ" started.
2024-05-27 13:45:36.692 +03:00 [DBG] Connection id "0HN3U78I9B5BQ" sending FIN because: "The client closed the connection."
2024-05-27 13:45:36.692 +03:00 [DBG] Connection id "0HN3U78I9B5BR" sending FIN because: "The client closed the connection."
2024-05-27 13:45:36.696 +03:00 [DBG] Connection id "0HN3U78I9B5BR" disconnecting.
2024-05-27 13:45:36.696 +03:00 [DBG] Connection id "0HN3U78I9B5BQ" disconnecting.
2024-05-27 13:45:36.699 +03:00 [DBG] Connection id "0HN3U78I9B5BR" stopped.
2024-05-27 13:45:36.699 +03:00 [DBG] Connection id "0HN3U78I9B5BQ" stopped.
2024-05-27 13:45:36.824 +03:00 [DBG] Connection id "0HN3U78I9B5BS" accepted.
2024-05-27 13:45:36.825 +03:00 [DBG] Connection id "0HN3U78I9B5BS" started.
2024-05-27 13:45:36.826 +03:00 [DBG] Connection id "0HN3U78I9B5BT" accepted.
2024-05-27 13:45:36.828 +03:00 [DBG] Connection id "0HN3U78I9B5BT" started.
2024-05-27 13:45:36.869 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 13:45:36.895 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 13:45:36.922 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 13:45:36.923 +03:00 [DBG] Request did not match any endpoints
2024-05-27 13:45:37.038 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 13:45:37.106 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 13:45:37.107 +03:00 [DBG] Connection id "0HN3U78I9B5BS" completed keep alive response.
2024-05-27 13:45:37.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 243.0125ms
2024-05-27 13:45:37.197 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 13:45:37.198 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 13:45:37.207 +03:00 [DBG] Connection id "0HN3U78I9B5BS" completed keep alive response.
2024-05-27 13:45:37.209 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 10.8249ms
2024-05-27 13:45:37.219 +03:00 [DBG] Connection id "0HN3U78I9B5BT" completed keep alive response.
2024-05-27 13:45:37.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.0677ms
2024-05-27 13:45:37.781 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 13:45:37.783 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 13:45:37.783 +03:00 [DBG] Request did not match any endpoints
2024-05-27 13:45:37.934 +03:00 [DBG] Connection id "0HN3U78I9B5BT" completed keep alive response.
2024-05-27 13:45:37.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.2215ms
2024-05-27 13:46:01.924 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 13:46:01.967 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 13:46:01.970 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 13:46:01.972 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:46:01.973 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:46:02.015 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 13:46:02.017 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:46:02.033 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 13:46:02.035 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:46:02.036 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:46:02.037 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:46:02.038 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:46:02.038 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 13:46:02.040 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:46:02.114 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 13:46:02.496 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:46:02.498 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:46:02.502 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 13:46:02.505 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 13:46:02.506 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:46:02.518 +03:00 [DBG] Connection id "0HN3U78I9B5BT", Request id "0HN3U78I9B5BT:00000003": started reading request body.
2024-05-27 13:46:02.519 +03:00 [DBG] Connection id "0HN3U78I9B5BT", Request id "0HN3U78I9B5BT:00000003": done reading request body.
2024-05-27 13:46:02.522 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 13:46:02.523 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:46:02.524 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:46:02.525 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 13:46:02.531 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:46:02.585 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 13:46:02.683 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 13:46:02.707 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 13:46:02.709 +03:00 [DBG] Creating DbConnection.
2024-05-27 13:46:02.722 +03:00 [DBG] Created DbConnection. (11ms).
2024-05-27 13:46:02.728 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2024-05-27 13:46:02.734 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-05-27 13:46:02.737 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:46:02.883 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:46:02.889 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:46:02.925 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:46:02.955 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 13:46:02.979 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:46:02.984 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 54ms reading results.
2024-05-27 13:46:02.987 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:46:02.991 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (4ms).
2024-05-27 13:46:03.017 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 13:46:03.020 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 13:46:03.020 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 13:46:03.021 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 13:46:03.021 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 13:46:03.022 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 13:46:03.031 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 989.8287ms
2024-05-27 13:46:03.032 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:46:03.033 +03:00 [DBG] Connection id "0HN3U78I9B5BT" completed keep alive response.
2024-05-27 13:46:03.035 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:46:03.036 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:46:03.038 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 13:46:03.039 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 1115.6457ms
2024-05-27 13:46:35.406 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 88
2024-05-27 13:46:35.439 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 13:46:35.440 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 13:46:35.441 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:46:35.441 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:46:35.467 +03:00 [DBG] Successfully validated the token.
2024-05-27 13:46:35.468 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 13:46:35.472 +03:00 [DBG] Authorization was successful.
2024-05-27 13:46:35.473 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:46:35.476 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 13:46:35.477 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:46:35.478 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:46:35.478 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:46:35.479 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:46:35.480 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 13:46:35.481 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 13:46:35.513 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:46:35.515 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 13:46:35.516 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 13:46:35.516 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 13:46:35.517 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:46:35.519 +03:00 [DBG] Connection id "0HN3U78I9B5BT", Request id "0HN3U78I9B5BT:00000004": started reading request body.
2024-05-27 13:46:35.519 +03:00 [DBG] Connection id "0HN3U78I9B5BT", Request id "0HN3U78I9B5BT:00000004": done reading request body.
2024-05-27 13:46:35.520 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 13:46:35.521 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:46:35.522 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:46:35.523 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 13:46:35.526 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:46:35.578 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 96.9818ms
2024-05-27 13:46:35.581 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:46:35.582 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input string 'Gosho' was not in a correct format.
   at System.Number.ThrowOverflowOrFormatException(ParsingStatus status, ReadOnlySpan`1 value, TypeCode type)
   at System.Int32.Parse(String s)
   at GL.WebAPI.Controllers.RatingsController.Create(RatingModel rating) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\RatingsController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-27 13:46:35.600 +03:00 [DBG] Connection id "0HN3U78I9B5BT" completed keep alive response.
2024-05-27 13:46:35.601 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:46:35.601 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 88 - 500 - text/plain;+charset=utf-8 195.7405ms
2024-05-27 13:58:03.980 +03:00 [INF] Application is starting!
2024-05-27 13:58:04.444 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 13:58:04.516 +03:00 [DBG] Hosting starting
2024-05-27 13:58:04.544 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 13:58:04.548 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 13:58:04.556 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 13:58:04.563 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 13:58:04.566 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 13:58:04.568 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 13:58:04.569 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 13:58:04.572 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 13:58:04.575 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 13:58:04.578 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 13:58:04.579 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 13:58:04.676 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 13:58:04.677 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 13:58:04.678 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 13:58:04.678 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 13:58:04.679 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 13:58:04.680 +03:00 [INF] Hosting environment: Development
2024-05-27 13:58:04.680 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 13:58:04.681 +03:00 [DBG] Hosting started
2024-05-27 13:58:04.734 +03:00 [DBG] Connection id "0HN3U7FH7CKJJ" accepted.
2024-05-27 13:58:04.735 +03:00 [DBG] Connection id "0HN3U7FH7CKJJ" started.
2024-05-27 13:58:04.744 +03:00 [DBG] Connection id "0HN3U7FH7CKJK" accepted.
2024-05-27 13:58:04.745 +03:00 [DBG] Connection id "0HN3U7FH7CKJK" started.
2024-05-27 13:58:04.749 +03:00 [DBG] Connection id "0HN3U7FH7CKJK" received FIN.
2024-05-27 13:58:04.749 +03:00 [DBG] Connection id "0HN3U7FH7CKJJ" received FIN.
2024-05-27 13:58:04.757 +03:00 [DBG] Connection id "0HN3U7FH7CKJJ" sending FIN because: "The client closed the connection."
2024-05-27 13:58:04.757 +03:00 [DBG] Connection id "0HN3U7FH7CKJK" sending FIN because: "The client closed the connection."
2024-05-27 13:58:04.760 +03:00 [DBG] Connection id "0HN3U7FH7CKJJ" disconnecting.
2024-05-27 13:58:04.760 +03:00 [DBG] Connection id "0HN3U7FH7CKJK" disconnecting.
2024-05-27 13:58:04.766 +03:00 [DBG] Connection id "0HN3U7FH7CKJK" stopped.
2024-05-27 13:58:04.766 +03:00 [DBG] Connection id "0HN3U7FH7CKJJ" stopped.
2024-05-27 13:58:04.896 +03:00 [DBG] Connection id "0HN3U7FH7CKJL" accepted.
2024-05-27 13:58:04.897 +03:00 [DBG] Connection id "0HN3U7FH7CKJL" started.
2024-05-27 13:58:04.898 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" accepted.
2024-05-27 13:58:04.899 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" started.
2024-05-27 13:58:04.927 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 13:58:04.943 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 13:58:04.961 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 13:58:04.962 +03:00 [DBG] Request did not match any endpoints
2024-05-27 13:58:05.034 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 13:58:05.097 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 13:58:05.098 +03:00 [DBG] Connection id "0HN3U7FH7CKJL" completed keep alive response.
2024-05-27 13:58:05.100 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 174.4785ms
2024-05-27 13:58:05.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 13:58:05.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 13:58:05.198 +03:00 [DBG] Connection id "0HN3U7FH7CKJL" completed keep alive response.
2024-05-27 13:58:05.200 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 6.9828ms
2024-05-27 13:58:05.209 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" completed keep alive response.
2024-05-27 13:58:05.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.4263ms
2024-05-27 13:58:05.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 13:58:05.759 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 13:58:05.760 +03:00 [DBG] Request did not match any endpoints
2024-05-27 13:58:05.900 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" completed keep alive response.
2024-05-27 13:58:05.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.5085ms
2024-05-27 13:58:18.616 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 13:58:18.620 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 13:58:18.623 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 13:58:18.624 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:58:18.626 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:58:18.670 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 13:58:18.673 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:58:18.690 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 13:58:18.693 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:58:18.694 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:58:18.695 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:58:18.697 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:58:18.698 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 13:58:18.700 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:58:18.781 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 13:58:19.192 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:58:19.194 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 13:58:19.197 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 13:58:19.199 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 13:58:19.201 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:58:19.213 +03:00 [DBG] Connection id "0HN3U7FH7CKJM", Request id "0HN3U7FH7CKJM:00000003": started reading request body.
2024-05-27 13:58:19.213 +03:00 [DBG] Connection id "0HN3U7FH7CKJM", Request id "0HN3U7FH7CKJM:00000003": done reading request body.
2024-05-27 13:58:19.216 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 13:58:19.217 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:58:19.218 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:58:19.219 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 13:58:19.225 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 13:58:19.278 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 13:58:19.382 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 13:58:19.408 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 13:58:19.409 +03:00 [DBG] Creating DbConnection.
2024-05-27 13:58:19.422 +03:00 [DBG] Created DbConnection. (10ms).
2024-05-27 13:58:19.428 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-27 13:58:19.434 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-05-27 13:58:19.437 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:58:19.592 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:58:19.599 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:58:19.637 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 13:58:19.666 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 13:58:19.691 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:58:19.696 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 54ms reading results.
2024-05-27 13:58:19.699 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:58:19.703 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (4ms).
2024-05-27 13:58:19.731 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 13:58:19.734 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 13:58:19.734 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 13:58:19.735 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 13:58:19.737 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 13:58:19.738 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 13:58:19.746 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 1044.8847ms
2024-05-27 13:58:19.747 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 13:58:19.748 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" completed keep alive response.
2024-05-27 13:58:19.750 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:58:19.752 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 13:58:19.753 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 13:58:19.755 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 1138.4775ms
2024-05-27 13:58:42.713 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 63
2024-05-27 13:58:42.715 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 13:58:42.716 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 13:58:42.717 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:58:42.718 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 13:58:42.744 +03:00 [DBG] Successfully validated the token.
2024-05-27 13:58:42.746 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 13:58:42.749 +03:00 [DBG] Authorization was successful.
2024-05-27 13:58:42.750 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:58:42.753 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 13:58:42.755 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 13:58:42.755 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 13:58:42.756 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 13:58:42.757 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 13:58:42.758 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 13:58:42.760 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 13:58:42.792 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 13:58:42.793 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 13:58:42.794 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 13:58:42.795 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 13:58:42.796 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 13:58:42.797 +03:00 [DBG] Connection id "0HN3U7FH7CKJM", Request id "0HN3U7FH7CKJM:00000004": started reading request body.
2024-05-27 13:58:42.798 +03:00 [DBG] Connection id "0HN3U7FH7CKJM", Request id "0HN3U7FH7CKJM:00000004": done reading request body.
2024-05-27 13:58:42.799 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 13:58:42.800 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:58:42.801 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:58:42.802 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 13:58:42.804 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 13:58:42.807 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 13:58:42.809 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 13:58:42.810 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 13:58:42.811 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-27 13:58:42.812 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 52.2973ms
2024-05-27 13:58:42.813 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 13:58:42.813 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" completed keep alive response.
2024-05-27 13:58:42.814 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 13:58:42.814 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 63 - 400 - application/json;+charset=utf-8 101.3474ms
2024-05-27 14:03:54.574 +03:00 [DBG] Connection id "0HN3U7FH7CKJL" received FIN.
2024-05-27 14:03:54.574 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" received FIN.
2024-05-27 14:03:54.578 +03:00 [DBG] Connection id "0HN3U7FH7CKJL" sending FIN because: "The client closed the connection."
2024-05-27 14:03:54.580 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" sending FIN because: "The client closed the connection."
2024-05-27 14:03:54.583 +03:00 [DBG] Connection id "0HN3U7FH7CKJL" disconnecting.
2024-05-27 14:03:54.586 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" disconnecting.
2024-05-27 14:03:54.588 +03:00 [DBG] Connection id "0HN3U7FH7CKJM" stopped.
2024-05-27 14:03:54.602 +03:00 [DBG] Connection id "0HN3U7FH7CKJL" stopped.
2024-05-27 14:05:05.355 +03:00 [DBG] Connection id "0HN3U7FH7CKJN" accepted.
2024-05-27 14:05:05.358 +03:00 [DBG] Connection id "0HN3U7FH7CKJN" started.
2024-05-27 14:05:05.359 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 63
2024-05-27 14:05:05.359 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 14:05:05.360 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 14:05:05.360 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:05:05.361 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 14:05:05.363 +03:00 [DBG] Successfully validated the token.
2024-05-27 14:05:05.364 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 14:05:05.365 +03:00 [DBG] Authorization was successful.
2024-05-27 14:05:05.366 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:05:05.366 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 14:05:05.367 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 14:05:05.368 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 14:05:05.369 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 14:05:05.370 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 14:05:05.370 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 14:05:05.371 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:05:05.378 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 14:05:05.380 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:05:05.380 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:05:05.381 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 14:05:05.382 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 14:05:05.383 +03:00 [DBG] Connection id "0HN3U7FH7CKJN", Request id "0HN3U7FH7CKJN:00000001": started reading request body.
2024-05-27 14:05:05.383 +03:00 [DBG] Connection id "0HN3U7FH7CKJN", Request id "0HN3U7FH7CKJN:00000001": done reading request body.
2024-05-27 14:05:05.384 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 14:05:05.384 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:05:05.385 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:05:05.386 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:05:05.387 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:05:31.534 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 14:05:31.536 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 14:05:31.538 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 14:05:31.538 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-27 14:05:31.539 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 26167.8802ms
2024-05-27 14:05:31.540 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:05:31.540 +03:00 [DBG] Connection id "0HN3U7FH7CKJN" completed keep alive response.
2024-05-27 14:05:31.541 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 14:05:31.542 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 63 - 400 - application/json;+charset=utf-8 26183.1870ms
2024-05-27 14:05:52.045 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 63
2024-05-27 14:05:52.048 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 14:05:52.048 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 14:05:52.049 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:05:52.050 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 14:05:52.050 +03:00 [DBG] Successfully validated the token.
2024-05-27 14:05:52.051 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 14:05:52.052 +03:00 [DBG] Authorization was successful.
2024-05-27 14:05:52.053 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:05:52.053 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 14:05:52.054 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 14:05:52.055 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 14:05:52.055 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 14:05:52.056 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 14:05:52.057 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 14:05:52.058 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:05:52.060 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 14:05:52.061 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:05:52.062 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:05:52.063 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 14:05:52.064 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 14:05:52.064 +03:00 [DBG] Connection id "0HN3U7FH7CKJN", Request id "0HN3U7FH7CKJN:00000002": started reading request body.
2024-05-27 14:05:52.065 +03:00 [DBG] Connection id "0HN3U7FH7CKJN", Request id "0HN3U7FH7CKJN:00000002": done reading request body.
2024-05-27 14:05:52.066 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 14:05:52.066 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:05:52.067 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:05:52.067 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:05:52.068 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:35:41.130 +03:00 [INF] Application is starting!
2024-05-27 14:35:41.658 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 14:35:41.742 +03:00 [DBG] Hosting starting
2024-05-27 14:35:41.769 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 14:35:41.772 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 14:35:41.783 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 14:35:41.791 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 14:35:41.794 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 14:35:41.797 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 14:35:41.798 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 14:35:41.802 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 14:35:41.803 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 14:35:41.805 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 14:35:41.806 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 14:35:41.893 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 14:35:41.894 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 14:35:41.894 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 14:35:41.895 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 14:35:41.896 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 14:35:41.896 +03:00 [INF] Hosting environment: Development
2024-05-27 14:35:41.897 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 14:35:41.897 +03:00 [DBG] Hosting started
2024-05-27 14:35:42.122 +03:00 [DBG] Connection id "0HN3U84HVGQI2" accepted.
2024-05-27 14:35:42.123 +03:00 [DBG] Connection id "0HN3U84HVGQI2" started.
2024-05-27 14:35:42.131 +03:00 [DBG] Connection id "0HN3U84HVGQI3" accepted.
2024-05-27 14:35:42.131 +03:00 [DBG] Connection id "0HN3U84HVGQI3" started.
2024-05-27 14:35:42.150 +03:00 [DBG] Connection id "0HN3U84HVGQI2" received FIN.
2024-05-27 14:35:42.150 +03:00 [DBG] Connection id "0HN3U84HVGQI3" received FIN.
2024-05-27 14:35:42.157 +03:00 [DBG] Connection id "0HN3U84HVGQI2" sending FIN because: "The client closed the connection."
2024-05-27 14:35:42.157 +03:00 [DBG] Connection id "0HN3U84HVGQI3" sending FIN because: "The client closed the connection."
2024-05-27 14:35:42.162 +03:00 [DBG] Connection id "0HN3U84HVGQI3" disconnecting.
2024-05-27 14:35:42.162 +03:00 [DBG] Connection id "0HN3U84HVGQI2" disconnecting.
2024-05-27 14:35:42.168 +03:00 [DBG] Connection id "0HN3U84HVGQI3" stopped.
2024-05-27 14:35:42.168 +03:00 [DBG] Connection id "0HN3U84HVGQI2" stopped.
2024-05-27 14:35:42.290 +03:00 [DBG] Connection id "0HN3U84HVGQI4" accepted.
2024-05-27 14:35:42.292 +03:00 [DBG] Connection id "0HN3U84HVGQI5" accepted.
2024-05-27 14:35:42.292 +03:00 [DBG] Connection id "0HN3U84HVGQI4" started.
2024-05-27 14:35:42.293 +03:00 [DBG] Connection id "0HN3U84HVGQI5" started.
2024-05-27 14:35:42.333 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 14:35:42.357 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 14:35:42.379 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 14:35:42.380 +03:00 [DBG] Request did not match any endpoints
2024-05-27 14:35:42.459 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 14:35:42.533 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 14:35:42.534 +03:00 [DBG] Connection id "0HN3U84HVGQI4" completed keep alive response.
2024-05-27 14:35:42.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 205.1716ms
2024-05-27 14:35:42.626 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 14:35:42.627 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 14:35:42.633 +03:00 [DBG] Connection id "0HN3U84HVGQI4" completed keep alive response.
2024-05-27 14:35:42.634 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 6.6669ms
2024-05-27 14:35:42.644 +03:00 [DBG] Connection id "0HN3U84HVGQI5" completed keep alive response.
2024-05-27 14:35:42.645 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.1211ms
2024-05-27 14:35:43.206 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 14:35:43.207 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 14:35:43.207 +03:00 [DBG] Request did not match any endpoints
2024-05-27 14:35:43.354 +03:00 [DBG] Connection id "0HN3U84HVGQI5" completed keep alive response.
2024-05-27 14:35:43.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.2709ms
2024-05-27 14:35:52.396 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 14:35:52.399 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 14:35:52.403 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 14:35:52.405 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 14:35:52.406 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 14:35:52.450 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 14:35:52.452 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 14:35:52.469 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 14:35:52.472 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 14:35:52.472 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 14:35:52.473 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 14:35:52.474 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 14:35:52.475 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 14:35:52.477 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 14:35:52.557 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 14:35:52.958 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 14:35:52.960 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 14:35:52.963 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 14:35:52.965 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 14:35:52.967 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 14:35:52.978 +03:00 [DBG] Connection id "0HN3U84HVGQI5", Request id "0HN3U84HVGQI5:00000003": started reading request body.
2024-05-27 14:35:52.979 +03:00 [DBG] Connection id "0HN3U84HVGQI5", Request id "0HN3U84HVGQI5:00000003": done reading request body.
2024-05-27 14:35:52.982 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 14:35:52.983 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 14:35:52.984 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 14:35:52.985 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 14:35:52.992 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 14:35:53.050 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 14:35:53.154 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 14:35:53.179 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 14:35:53.181 +03:00 [DBG] Creating DbConnection.
2024-05-27 14:35:53.194 +03:00 [DBG] Created DbConnection. (10ms).
2024-05-27 14:35:53.199 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-27 14:35:53.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-05-27 14:35:53.209 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:35:53.369 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:35:53.376 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 14:35:53.412 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 14:35:53.444 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 14:35:53.468 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:35:53.473 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 55ms reading results.
2024-05-27 14:35:53.476 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:35:53.480 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (4ms).
2024-05-27 14:35:53.507 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 14:35:53.509 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 14:35:53.510 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 14:35:53.510 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 14:35:53.511 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 14:35:53.512 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 14:35:53.520 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 1041.9626ms
2024-05-27 14:35:53.521 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 14:35:53.522 +03:00 [DBG] Connection id "0HN3U84HVGQI5" completed keep alive response.
2024-05-27 14:35:53.525 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 14:35:53.528 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:35:53.530 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 14:35:53.531 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 1135.7609ms
2024-05-27 14:41:18.803 +03:00 [INF] Application is starting!
2024-05-27 14:41:19.253 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 14:41:19.342 +03:00 [DBG] Hosting starting
2024-05-27 14:41:19.367 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 14:41:19.370 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 14:41:19.377 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 14:41:19.383 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 14:41:19.386 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 14:41:19.388 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 14:41:19.390 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 14:41:19.393 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 14:41:19.395 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 14:41:19.396 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 14:41:19.397 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 14:41:19.479 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 14:41:19.482 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 14:41:19.483 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 14:41:19.483 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 14:41:19.485 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 14:41:19.486 +03:00 [INF] Hosting environment: Development
2024-05-27 14:41:19.486 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 14:41:19.489 +03:00 [DBG] Hosting started
2024-05-27 14:41:19.872 +03:00 [DBG] Connection id "0HN3U87MKHUIQ" accepted.
2024-05-27 14:41:19.874 +03:00 [DBG] Connection id "0HN3U87MKHUIQ" started.
2024-05-27 14:41:19.883 +03:00 [DBG] Connection id "0HN3U87MKHUIR" accepted.
2024-05-27 14:41:19.883 +03:00 [DBG] Connection id "0HN3U87MKHUIR" started.
2024-05-27 14:41:19.900 +03:00 [DBG] Connection id "0HN3U87MKHUIR" received FIN.
2024-05-27 14:41:19.900 +03:00 [DBG] Connection id "0HN3U87MKHUIQ" received FIN.
2024-05-27 14:41:19.905 +03:00 [DBG] Connection id "0HN3U87MKHUIR" sending FIN because: "The client closed the connection."
2024-05-27 14:41:19.906 +03:00 [DBG] Connection id "0HN3U87MKHUIQ" sending FIN because: "The client closed the connection."
2024-05-27 14:41:19.910 +03:00 [DBG] Connection id "0HN3U87MKHUIR" disconnecting.
2024-05-27 14:41:19.910 +03:00 [DBG] Connection id "0HN3U87MKHUIQ" disconnecting.
2024-05-27 14:41:19.915 +03:00 [DBG] Connection id "0HN3U87MKHUIR" stopped.
2024-05-27 14:41:19.915 +03:00 [DBG] Connection id "0HN3U87MKHUIQ" stopped.
2024-05-27 14:41:20.109 +03:00 [DBG] Connection id "0HN3U87MKHUIS" accepted.
2024-05-27 14:41:20.110 +03:00 [DBG] Connection id "0HN3U87MKHUIS" started.
2024-05-27 14:41:20.111 +03:00 [DBG] Connection id "0HN3U87MKHUIT" accepted.
2024-05-27 14:41:20.116 +03:00 [DBG] Connection id "0HN3U87MKHUIT" started.
2024-05-27 14:41:20.146 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 14:41:20.165 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 14:41:20.188 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 14:41:20.190 +03:00 [DBG] Request did not match any endpoints
2024-05-27 14:41:20.273 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 14:41:20.346 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 14:41:20.346 +03:00 [DBG] Connection id "0HN3U87MKHUIS" completed keep alive response.
2024-05-27 14:41:20.348 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 204.1030ms
2024-05-27 14:41:20.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 14:41:20.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 14:41:20.447 +03:00 [DBG] Connection id "0HN3U87MKHUIS" completed keep alive response.
2024-05-27 14:41:20.448 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 6.5791ms
2024-05-27 14:41:20.459 +03:00 [DBG] Connection id "0HN3U87MKHUIT" completed keep alive response.
2024-05-27 14:41:20.460 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.5787ms
2024-05-27 14:41:21.038 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 14:41:21.039 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 14:41:21.039 +03:00 [DBG] Request did not match any endpoints
2024-05-27 14:41:21.181 +03:00 [DBG] Connection id "0HN3U87MKHUIT" completed keep alive response.
2024-05-27 14:41:21.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.3837ms
2024-05-27 14:41:31.130 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 14:41:31.134 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 14:41:31.138 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 14:41:31.139 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 14:41:31.141 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 14:41:31.177 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 14:41:31.179 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 14:41:31.195 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 14:41:31.197 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 14:41:31.197 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 14:41:31.198 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 14:41:31.199 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 14:41:31.200 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 14:41:31.201 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 14:41:31.272 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 14:41:31.658 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 14:41:31.660 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 14:41:31.664 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 14:41:31.666 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 14:41:31.667 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 14:41:31.679 +03:00 [DBG] Connection id "0HN3U87MKHUIT", Request id "0HN3U87MKHUIT:00000003": started reading request body.
2024-05-27 14:41:31.680 +03:00 [DBG] Connection id "0HN3U87MKHUIT", Request id "0HN3U87MKHUIT:00000003": done reading request body.
2024-05-27 14:41:31.683 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 14:41:31.684 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 14:41:31.684 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 14:41:31.685 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 14:41:31.692 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 14:41:31.746 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 14:41:31.849 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 14:41:31.875 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 14:41:31.876 +03:00 [DBG] Creating DbConnection.
2024-05-27 14:41:31.889 +03:00 [DBG] Created DbConnection. (10ms).
2024-05-27 14:41:31.894 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-27 14:41:31.900 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-05-27 14:41:31.904 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:32.050 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:32.057 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 14:41:32.092 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 14:41:32.119 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 14:41:32.144 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:32.149 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 52ms reading results.
2024-05-27 14:41:32.151 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:32.156 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (4ms).
2024-05-27 14:41:32.180 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 14:41:32.182 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 14:41:32.182 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 14:41:32.183 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 14:41:32.184 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 14:41:32.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 14:41:32.193 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 990.3484ms
2024-05-27 14:41:32.194 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 14:41:32.195 +03:00 [DBG] Connection id "0HN3U87MKHUIT" completed keep alive response.
2024-05-27 14:41:32.196 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 14:41:32.198 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:32.199 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 14:41:32.200 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 1070.0606ms
2024-05-27 14:41:57.269 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 76
2024-05-27 14:41:57.270 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 14:41:57.271 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 14:41:57.272 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:41:57.273 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 14:41:57.300 +03:00 [DBG] Successfully validated the token.
2024-05-27 14:41:57.301 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 14:41:57.306 +03:00 [DBG] Authorization was successful.
2024-05-27 14:41:57.306 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:41:57.309 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel, GL.ApplicationServices.Interfaces.IAuthService) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 14:41:57.311 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 14:41:57.312 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 14:41:57.312 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 14:41:57.313 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 14:41:57.314 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 14:41:57.315 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:41:57.348 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 14:41:57.349 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:41:57.350 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:41:57.351 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 14:41:57.352 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 14:41:57.354 +03:00 [DBG] Connection id "0HN3U87MKHUIT", Request id "0HN3U87MKHUIT:00000004": started reading request body.
2024-05-27 14:41:57.355 +03:00 [DBG] Connection id "0HN3U87MKHUIT", Request id "0HN3U87MKHUIT:00000004": done reading request body.
2024-05-27 14:41:57.356 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 14:41:57.357 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:41:57.358 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:41:57.359 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:41:57.361 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:41:57.361 +03:00 [DBG] Attempting to bind parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService' ...
2024-05-27 14:41:57.363 +03:00 [DBG] Done attempting to bind parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService'.
2024-05-27 14:41:57.363 +03:00 [DBG] Attempting to validate the bound parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService' ...
2024-05-27 14:41:57.364 +03:00 [DBG] Done attempting to validate the bound parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService'.
2024-05-27 14:41:57.371 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 14:41:57.371 +03:00 [DBG] Creating DbConnection.
2024-05-27 14:41:57.372 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 14:41:57.372 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 14:41:57.373 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-27 14:41:57.373 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.375 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.375 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE 0 = 1
2024-05-27 14:41:57.380 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE 0 = 1
2024-05-27 14:41:57.383 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.383 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-05-27 14:41:57.384 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.385 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 14:41:57.409 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 14:41:57.427 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 14:41:57.431 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 14:41:57.433 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 14:41:57.441 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 14:41:57.482 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.483 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.485 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 14:41:57.486 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-27 14:41:57.487 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-27 14:41:57.488 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 14:41:57.491 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 14:41:57.499 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.500 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-05-27 14:41:57.502 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.503 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 14:41:57.512 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'GL.Data.Contexts.GameLibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-27 14:41:57.598 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 283.0928ms
2024-05-27 14:41:57.599 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:41:57.600 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UnitOfWork.SaveChangesAsync() in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UnitOfWork.cs:line 45
   at GL.ApplicationServices.Implementations.RatingsManagementService.CreateRating(CreateRatingRequest request) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\RatingsManagementService.cs:line 54
   at GL.WebAPI.Controllers.RatingsController.Create(RatingModel rating, IAuthService authService) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\RatingsController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-27 14:41:57.624 +03:00 [DBG] Connection id "0HN3U87MKHUIT" completed keep alive response.
2024-05-27 14:41:57.624 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 14:41:57.625 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:41:57.626 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-27 14:41:57.626 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 76 - 500 - text/plain;+charset=utf-8 357.6602ms
2024-05-27 14:42:07.345 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 76
2024-05-27 14:42:07.345 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 14:42:07.346 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 14:42:07.347 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:42:07.347 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 14:42:07.350 +03:00 [DBG] Successfully validated the token.
2024-05-27 14:42:07.350 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 14:42:07.352 +03:00 [DBG] Authorization was successful.
2024-05-27 14:42:07.353 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:42:07.354 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel, GL.ApplicationServices.Interfaces.IAuthService) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 14:42:07.355 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 14:42:07.356 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 14:42:07.357 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 14:42:07.358 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 14:42:07.359 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 14:42:07.359 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:42:07.367 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 14:42:07.368 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:42:07.369 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:42:07.369 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 14:42:07.370 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 14:42:07.371 +03:00 [DBG] Connection id "0HN3U87MKHUIT", Request id "0HN3U87MKHUIT:00000005": started reading request body.
2024-05-27 14:42:07.371 +03:00 [DBG] Connection id "0HN3U87MKHUIT", Request id "0HN3U87MKHUIT:00000005": done reading request body.
2024-05-27 14:42:07.372 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 14:42:07.373 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:42:07.373 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:42:07.374 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:42:07.375 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:42:07.376 +03:00 [DBG] Attempting to bind parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService' ...
2024-05-27 14:42:07.377 +03:00 [DBG] Done attempting to bind parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService'.
2024-05-27 14:42:07.378 +03:00 [DBG] Attempting to validate the bound parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService' ...
2024-05-27 14:42:07.378 +03:00 [DBG] Done attempting to validate the bound parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService'.
2024-05-27 14:42:07.380 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 14:42:07.380 +03:00 [DBG] Creating DbConnection.
2024-05-27 14:42:07.381 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 14:42:07.381 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 14:42:07.382 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-27 14:42:07.382 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.383 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.383 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE 0 = 1
2024-05-27 14:42:07.385 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE 0 = 1
2024-05-27 14:42:07.387 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.387 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-05-27 14:42:07.388 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.389 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 14:42:07.390 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 14:42:07.391 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 14:42:07.392 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 14:42:07.392 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 14:42:07.393 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 14:42:07.394 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.395 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.395 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 14:42:07.396 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-27 14:42:07.396 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-27 14:42:07.397 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 14:42:07.399 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 14:42:07.400 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.401 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-05-27 14:42:07.402 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.402 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 14:42:07.404 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'GL.Data.Contexts.GameLibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-27 14:42:07.471 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 111.2168ms
2024-05-27 14:42:07.472 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:42:07.472 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UnitOfWork.SaveChangesAsync() in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UnitOfWork.cs:line 45
   at GL.ApplicationServices.Implementations.RatingsManagementService.CreateRating(CreateRatingRequest request) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\RatingsManagementService.cs:line 54
   at GL.WebAPI.Controllers.RatingsController.Create(RatingModel rating, IAuthService authService) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\RatingsController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-27 14:42:07.498 +03:00 [DBG] Connection id "0HN3U87MKHUIT" completed keep alive response.
2024-05-27 14:42:07.499 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 14:42:07.500 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:07.501 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-27 14:42:07.501 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 76 - 500 - text/plain;+charset=utf-8 157.1803ms
2024-05-27 14:42:11.445 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 76
2024-05-27 14:42:11.446 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 14:42:11.447 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 14:42:11.448 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:42:11.448 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 14:42:11.449 +03:00 [DBG] Successfully validated the token.
2024-05-27 14:42:11.449 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 14:42:11.451 +03:00 [DBG] Authorization was successful.
2024-05-27 14:42:11.452 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:42:11.453 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel, GL.ApplicationServices.Interfaces.IAuthService) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 14:42:11.455 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 14:42:11.456 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 14:42:11.457 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 14:42:11.458 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 14:42:11.459 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 14:42:11.460 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:42:11.463 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 14:42:11.465 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 14:42:11.466 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:42:11.466 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 14:42:11.467 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 14:42:11.468 +03:00 [DBG] Connection id "0HN3U87MKHUIT", Request id "0HN3U87MKHUIT:00000006": started reading request body.
2024-05-27 14:42:11.469 +03:00 [DBG] Connection id "0HN3U87MKHUIT", Request id "0HN3U87MKHUIT:00000006": done reading request body.
2024-05-27 14:42:11.470 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 14:42:11.470 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:42:11.471 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:42:11.472 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 14:42:11.473 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 14:42:11.473 +03:00 [DBG] Attempting to bind parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService' ...
2024-05-27 14:42:11.474 +03:00 [DBG] Done attempting to bind parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService'.
2024-05-27 14:42:11.475 +03:00 [DBG] Attempting to validate the bound parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService' ...
2024-05-27 14:42:11.476 +03:00 [DBG] Done attempting to validate the bound parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService'.
2024-05-27 14:42:11.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 14:42:11.477 +03:00 [DBG] Creating DbConnection.
2024-05-27 14:42:11.477 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 14:42:11.478 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 14:42:11.478 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-27 14:42:11.479 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.480 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.480 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE 0 = 1
2024-05-27 14:42:11.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE 0 = 1
2024-05-27 14:42:11.485 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.485 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-05-27 14:42:11.486 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.487 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 14:42:11.487 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 14:42:11.488 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 14:42:11.489 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 14:42:11.489 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 14:42:11.490 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 14:42:11.491 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.492 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 14:42:11.493 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-27 14:42:11.493 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-27 14:42:11.494 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 14:42:11.497 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 14:42:11.498 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.499 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-05-27 14:42:11.501 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.501 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 14:42:11.503 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'GL.Data.Contexts.GameLibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-27 14:42:11.573 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 112.5546ms
2024-05-27 14:42:11.574 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 14:42:11.574 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:94320a98-c4a5-458d-859d-23fa0b7f43be
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UnitOfWork.SaveChangesAsync() in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UnitOfWork.cs:line 45
   at GL.ApplicationServices.Implementations.RatingsManagementService.CreateRating(CreateRatingRequest request) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\RatingsManagementService.cs:line 54
   at GL.WebAPI.Controllers.RatingsController.Create(RatingModel rating, IAuthService authService) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\RatingsController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-27 14:42:11.592 +03:00 [DBG] Connection id "0HN3U87MKHUIT" completed keep alive response.
2024-05-27 14:42:11.593 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 14:42:11.593 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 14:42:11.594 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-27 14:42:11.595 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 76 - 500 - text/plain;+charset=utf-8 149.2937ms
2024-05-27 18:22:50.483 +03:00 [INF] Application is starting!
2024-05-27 18:22:51.431 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 18:22:51.556 +03:00 [DBG] Hosting starting
2024-05-27 18:22:51.603 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 18:22:51.610 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 18:22:51.625 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 18:22:51.640 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 18:22:51.645 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 18:22:51.650 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 18:22:51.653 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 18:22:51.660 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 18:22:51.663 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 18:22:51.667 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 18:22:51.669 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 18:22:51.878 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 18:22:51.881 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 18:22:51.882 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 18:22:51.883 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 18:22:51.885 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 18:22:51.886 +03:00 [INF] Hosting environment: Development
2024-05-27 18:22:51.888 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 18:22:51.889 +03:00 [DBG] Hosting started
2024-05-27 18:22:52.232 +03:00 [DBG] Connection id "0HN3UC3G2C1R3" received FIN.
2024-05-27 18:22:52.232 +03:00 [DBG] Connection id "0HN3UC3G2C1R4" received FIN.
2024-05-27 18:22:52.244 +03:00 [DBG] Connection id "0HN3UC3G2C1R4" accepted.
2024-05-27 18:22:52.244 +03:00 [DBG] Connection id "0HN3UC3G2C1R3" accepted.
2024-05-27 18:22:52.246 +03:00 [DBG] Connection id "0HN3UC3G2C1R4" started.
2024-05-27 18:22:52.247 +03:00 [DBG] Connection id "0HN3UC3G2C1R3" started.
2024-05-27 18:22:52.262 +03:00 [DBG] Connection id "0HN3UC3G2C1R3" sending FIN because: "The client closed the connection."
2024-05-27 18:22:52.262 +03:00 [DBG] Connection id "0HN3UC3G2C1R4" sending FIN because: "The client closed the connection."
2024-05-27 18:22:52.267 +03:00 [DBG] Connection id "0HN3UC3G2C1R4" disconnecting.
2024-05-27 18:22:52.267 +03:00 [DBG] Connection id "0HN3UC3G2C1R3" disconnecting.
2024-05-27 18:22:52.274 +03:00 [DBG] Connection id "0HN3UC3G2C1R3" stopped.
2024-05-27 18:22:52.274 +03:00 [DBG] Connection id "0HN3UC3G2C1R4" stopped.
2024-05-27 18:22:57.298 +03:00 [DBG] Connection id "0HN3UC3G2C1R5" accepted.
2024-05-27 18:22:57.303 +03:00 [DBG] Connection id "0HN3UC3G2C1R5" started.
2024-05-27 18:22:57.303 +03:00 [DBG] Connection id "0HN3UC3G2C1R6" accepted.
2024-05-27 18:22:57.307 +03:00 [DBG] Connection id "0HN3UC3G2C1R6" started.
2024-05-27 18:22:57.934 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 18:22:58.018 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 18:22:58.083 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 18:22:58.086 +03:00 [DBG] Request did not match any endpoints
2024-05-27 18:22:58.370 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 18:22:58.683 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 18:22:58.685 +03:00 [DBG] Connection id "0HN3UC3G2C1R5" completed keep alive response.
2024-05-27 18:22:58.691 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 763.9509ms
2024-05-27 18:22:58.804 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 18:22:58.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 18:22:58.817 +03:00 [DBG] Connection id "0HN3UC3G2C1R5" completed keep alive response.
2024-05-27 18:22:58.820 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 12.3204ms
2024-05-27 18:22:58.889 +03:00 [DBG] Connection id "0HN3UC3G2C1R6" completed keep alive response.
2024-05-27 18:22:58.891 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.3146ms
2024-05-27 18:23:00.051 +03:00 [DBG] Connection id "0HN3UC3G2C1R6" received FIN.
2024-05-27 18:23:00.051 +03:00 [DBG] Connection id "0HN3UC3G2C1R5" received FIN.
2024-05-27 18:23:00.054 +03:00 [DBG] Connection id "0HN3UC3G2C1R6" sending FIN because: "The client closed the connection."
2024-05-27 18:23:00.056 +03:00 [DBG] Connection id "0HN3UC3G2C1R5" sending FIN because: "The client closed the connection."
2024-05-27 18:23:00.057 +03:00 [DBG] Connection id "0HN3UC3G2C1R6" disconnecting.
2024-05-27 18:23:00.065 +03:00 [DBG] Connection id "0HN3UC3G2C1R5" disconnecting.
2024-05-27 18:23:00.069 +03:00 [DBG] Connection id "0HN3UC3G2C1R6" stopped.
2024-05-27 18:23:00.073 +03:00 [DBG] Connection id "0HN3UC3G2C1R5" stopped.
2024-05-27 18:23:00.565 +03:00 [DBG] Connection id "0HN3UC3G2C1R7" accepted.
2024-05-27 18:23:00.567 +03:00 [DBG] Connection id "0HN3UC3G2C1R7" started.
2024-05-27 18:23:00.583 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 18:23:00.585 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 18:23:00.587 +03:00 [DBG] Request did not match any endpoints
2024-05-27 18:23:00.997 +03:00 [DBG] Connection id "0HN3UC3G2C1R7" completed keep alive response.
2024-05-27 18:23:01.000 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 416.7489ms
2024-05-27 18:25:11.920 +03:00 [DBG] Connection id "0HN3UC3G2C1R7" received FIN.
2024-05-27 18:25:11.927 +03:00 [DBG] Connection id "0HN3UC3G2C1R7" sending FIN because: "The client closed the connection."
2024-05-27 18:25:11.928 +03:00 [DBG] Connection id "0HN3UC3G2C1R7" disconnecting.
2024-05-27 18:25:11.934 +03:00 [DBG] Connection id "0HN3UC3G2C1R7" stopped.
2024-05-27 18:32:42.809 +03:00 [DBG] Connection id "0HN3UC3G2C1R8" accepted.
2024-05-27 18:32:42.847 +03:00 [DBG] Connection id "0HN3UC3G2C1R8" started.
2024-05-27 18:32:42.849 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 18:32:42.861 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 18:32:42.869 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 18:32:42.872 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 18:32:42.875 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 18:32:42.969 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 18:32:42.974 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 18:32:43.022 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 18:32:43.026 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 18:32:43.028 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 18:32:43.030 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 18:32:43.033 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 18:32:43.035 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 18:32:43.042 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 18:32:43.252 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 18:32:44.200 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 18:32:44.205 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 18:32:44.213 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 18:32:44.218 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 18:32:44.222 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 18:32:44.250 +03:00 [DBG] Connection id "0HN3UC3G2C1R8", Request id "0HN3UC3G2C1R8:00000001": started reading request body.
2024-05-27 18:32:44.252 +03:00 [DBG] Connection id "0HN3UC3G2C1R8", Request id "0HN3UC3G2C1R8:00000001": done reading request body.
2024-05-27 18:32:44.259 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 18:32:44.261 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 18:32:44.264 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 18:32:44.268 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 18:32:44.283 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 18:32:44.421 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 18:32:44.664 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 18:32:44.728 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 18:32:44.732 +03:00 [DBG] Creating DbConnection.
2024-05-27 18:32:44.766 +03:00 [DBG] Created DbConnection. (29ms).
2024-05-27 18:32:44.780 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (49ms).
2024-05-27 18:32:44.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (69ms).
2024-05-27 18:32:44.802 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:32:45.169 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:32:45.185 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 18:32:45.265 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 18:32:45.332 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 18:32:45.390 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:32:45.402 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 125ms reading results.
2024-05-27 18:32:45.408 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:32:45.418 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (9ms).
2024-05-27 18:32:45.478 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 18:32:45.486 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 18:32:45.487 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 18:32:45.489 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 18:32:45.491 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 18:32:45.494 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 18:32:45.516 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 2471.1477ms
2024-05-27 18:32:45.518 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 18:32:45.521 +03:00 [DBG] Connection id "0HN3UC3G2C1R8" completed keep alive response.
2024-05-27 18:32:45.525 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 18:32:45.529 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:32:45.532 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-05-27 18:32:45.535 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 2685.5627ms
2024-05-27 18:38:15.353 +03:00 [DBG] Connection id "0HN3UC3G2C1R8" received FIN.
2024-05-27 18:38:15.358 +03:00 [DBG] Connection id "0HN3UC3G2C1R8" disconnecting.
2024-05-27 18:38:15.359 +03:00 [DBG] Connection id "0HN3UC3G2C1R8" sending FIN because: "The client closed the connection."
2024-05-27 18:38:15.360 +03:00 [DBG] Connection id "0HN3UC3G2C1R8" stopped.
2024-05-27 18:55:46.994 +03:00 [DBG] Connection id "0HN3UC3G2C1R9" accepted.
2024-05-27 18:55:46.995 +03:00 [DBG] Connection id "0HN3UC3G2C1R9" started.
2024-05-27 18:55:46.996 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Ratings - -
2024-05-27 18:55:46.998 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 18:55:46.998 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 18:55:47.000 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 18:55:47.001 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 18:55:47.036 +03:00 [DBG] Successfully validated the token.
2024-05-27 18:55:47.039 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 18:55:47.045 +03:00 [DBG] Authorization was successful.
2024-05-27 18:55:47.046 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 18:55:47.050 +03:00 [INF] Route matched with {action = "Get", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 18:55:47.052 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 18:55:47.053 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 18:55:47.054 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 18:55:47.056 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 18:55:47.057 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 18:55:47.058 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 18:55:47.104 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 18:55:47.107 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 18:55:47.118 +03:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Where(x => x.IsActivated == __isActive_Value_0)'
2024-05-27 18:55:47.125 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rating>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rating.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rating.CreatedBy (int) Required, 1], [Property: Rating.CreatedOn (DateTime) Required, 2], [Property: Rating.Description (string) MaxLength(300), 3], [Property: Rating.IsActivated (bool) Required, 4], [Property: Rating.Name (string) Required MaxLength(100), 5], [Property: Rating.UpdatedBy (int?), 6], [Property: Rating.UpdatedOn (DateTime?), 7], [Property: Rating.UserId (int) Required FK Index, 8] }
        SELECT r.Id, r.CreatedBy, r.CreatedOn, r.Description, r.IsActivated, r.Name, r.UpdatedBy, r.UpdatedOn, r.UserId
        FROM Ratings AS r
        WHERE r.IsActivated == @__isActive_Value_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rating>, 
    GL.Data.Contexts.GameLibraryDbContext, 
    False, 
    False, 
    True
)'
2024-05-27 18:55:47.131 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 18:55:47.132 +03:00 [DBG] Creating DbConnection.
2024-05-27 18:55:47.132 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 18:55:47.133 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-27 18:55:47.134 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 18:55:47.135 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:55:47.142 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:55:47.144 +03:00 [DBG] Executing DbCommand [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 18:55:47.149 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 18:55:47.152 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:55:47.153 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-05-27 18:55:47.154 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:55:47.155 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-05-27 18:55:47.157 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 18:55:47.162 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 18:55:47.164 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 18:55:47.165 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.GetRatingsResponse'.
2024-05-27 18:55:47.174 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI) in 115.3214ms
2024-05-27 18:55:47.175 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 18:55:47.176 +03:00 [DBG] Connection id "0HN3UC3G2C1R9" completed keep alive response.
2024-05-27 18:55:47.177 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 18:55:47.178 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:55:47.179 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-27 18:55:47.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Ratings - - - 200 - application/json;+charset=utf-8 183.7143ms
2024-05-27 18:56:39.641 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 83
2024-05-27 18:56:39.649 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 18:56:39.651 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 18:56:39.655 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 18:56:39.658 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 18:56:39.664 +03:00 [DBG] Successfully validated the token.
2024-05-27 18:56:39.665 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 18:56:39.669 +03:00 [DBG] Authorization was successful.
2024-05-27 18:56:39.671 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 18:56:39.677 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel, GL.ApplicationServices.Interfaces.IAuthService) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 18:56:39.682 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 18:56:39.683 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 18:56:39.685 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 18:56:39.688 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 18:56:39.690 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 18:56:39.693 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 18:56:39.712 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 18:56:39.715 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 18:56:39.717 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 18:56:39.719 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 18:56:39.721 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 18:56:39.725 +03:00 [DBG] Connection id "0HN3UC3G2C1R9", Request id "0HN3UC3G2C1R9:00000002": started reading request body.
2024-05-27 18:56:39.728 +03:00 [DBG] Connection id "0HN3UC3G2C1R9", Request id "0HN3UC3G2C1R9:00000002": done reading request body.
2024-05-27 18:56:39.732 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 18:56:39.733 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 18:56:39.735 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 18:56:39.737 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 18:56:39.745 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 18:56:39.747 +03:00 [DBG] Attempting to bind parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService' ...
2024-05-27 18:56:39.749 +03:00 [DBG] Done attempting to bind parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService'.
2024-05-27 18:56:39.750 +03:00 [DBG] Attempting to validate the bound parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService' ...
2024-05-27 18:56:39.753 +03:00 [DBG] Done attempting to validate the bound parameter 'authService' of type 'GL.ApplicationServices.Interfaces.IAuthService'.
2024-05-27 18:56:39.769 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 18:56:39.771 +03:00 [DBG] Creating DbConnection.
2024-05-27 18:56:39.772 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-27 18:56:39.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-27 18:56:39.776 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-05-27 18:56:39.777 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:39.780 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:39.781 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE 0 = 1
2024-05-27 18:56:39.789 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE 0 = 1
2024-05-27 18:56:39.798 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:39.800 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-05-27 18:56:39.803 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:39.805 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 18:56:39.864 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 18:56:39.920 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 18:56:39.928 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 18:56:39.933 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 18:56:39.954 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 18:56:40.063 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:40.065 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:40.070 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 18:56:40.071 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 18:56:40.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 18:56:40.075 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 18:56:40.084 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 18:56:40.108 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:40.110 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 19ms reading results.
2024-05-27 18:56:40.114 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:40.116 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (2ms).
2024-05-27 18:56:40.142 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'GL.Data.Contexts.GameLibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4d1a3067-fe11-425f-9826-ebc40ccef9b0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4d1a3067-fe11-425f-9826-ebc40ccef9b0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-27 18:56:40.370 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 677.1244ms
2024-05-27 18:56:40.373 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 18:56:40.376 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4d1a3067-fe11-425f-9826-ebc40ccef9b0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UnitOfWork.SaveChangesAsync() in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UnitOfWork.cs:line 45
   at GL.ApplicationServices.Implementations.RatingsManagementService.CreateRating(CreateRatingRequest request) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\RatingsManagementService.cs:line 54
   at GL.WebAPI.Controllers.RatingsController.Create(RatingModel rating, IAuthService authService) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\RatingsController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-27 18:56:40.458 +03:00 [DBG] Connection id "0HN3UC3G2C1R9" completed keep alive response.
2024-05-27 18:56:40.459 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 18:56:40.461 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 18:56:40.463 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 18:56:40.465 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 83 - 500 - text/plain;+charset=utf-8 824.4112ms
2024-05-27 19:06:53.428 +03:00 [INF] Application is starting!
2024-05-27 19:06:54.241 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 19:06:54.408 +03:00 [DBG] Hosting starting
2024-05-27 19:06:54.450 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 19:06:54.456 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 19:06:54.470 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 19:06:54.487 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 19:06:54.491 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 19:06:54.496 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 19:06:54.499 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 19:06:54.505 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 19:06:54.508 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 19:06:54.511 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 19:06:54.513 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 19:06:54.659 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 19:06:54.660 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 19:06:54.662 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 19:06:54.663 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 19:06:54.665 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 19:06:54.666 +03:00 [INF] Hosting environment: Development
2024-05-27 19:06:54.667 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 19:06:54.669 +03:00 [DBG] Hosting started
2024-05-27 19:06:54.987 +03:00 [DBG] Connection id "0HN3UCS3LKQJ4" received FIN.
2024-05-27 19:06:54.999 +03:00 [DBG] Connection id "0HN3UCS3LKQJ4" accepted.
2024-05-27 19:06:55.002 +03:00 [DBG] Connection id "0HN3UCS3LKQJ4" started.
2024-05-27 19:06:55.018 +03:00 [DBG] Connection id "0HN3UCS3LKQJ4" sending FIN because: "The client closed the connection."
2024-05-27 19:06:55.024 +03:00 [DBG] Connection id "0HN3UCS3LKQJ4" disconnecting.
2024-05-27 19:06:55.031 +03:00 [DBG] Connection id "0HN3UCS3LKQJ4" stopped.
2024-05-27 19:06:55.219 +03:00 [DBG] Connection id "0HN3UCS3LKQJ5" accepted.
2024-05-27 19:06:55.222 +03:00 [DBG] Connection id "0HN3UCS3LKQJ5" started.
2024-05-27 19:06:55.222 +03:00 [DBG] Connection id "0HN3UCS3LKQJ6" accepted.
2024-05-27 19:06:55.257 +03:00 [DBG] Connection id "0HN3UCS3LKQJ6" started.
2024-05-27 19:06:55.306 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 19:06:55.338 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 19:06:55.377 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 19:06:55.380 +03:00 [DBG] Request did not match any endpoints
2024-05-27 19:06:55.530 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 19:06:55.679 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 19:06:55.682 +03:00 [DBG] Connection id "0HN3UCS3LKQJ5" completed keep alive response.
2024-05-27 19:06:55.686 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 383.9571ms
2024-05-27 19:06:55.857 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 19:06:55.861 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 19:06:55.874 +03:00 [DBG] Connection id "0HN3UCS3LKQJ5" completed keep alive response.
2024-05-27 19:06:55.880 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 18.2604ms
2024-05-27 19:06:55.902 +03:00 [DBG] Connection id "0HN3UCS3LKQJ6" completed keep alive response.
2024-05-27 19:06:55.904 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.6885ms
2024-05-27 19:06:57.196 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 19:06:57.197 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 19:06:57.199 +03:00 [DBG] Request did not match any endpoints
2024-05-27 19:06:57.534 +03:00 [DBG] Connection id "0HN3UCS3LKQJ6" completed keep alive response.
2024-05-27 19:06:57.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 341.0818ms
2024-05-27 19:07:49.385 +03:00 [DBG] Connection id "0HN3UCS3LKQJ5" received FIN.
2024-05-27 19:07:49.386 +03:00 [DBG] Connection id "0HN3UCS3LKQJ6" received FIN.
2024-05-27 19:07:49.395 +03:00 [DBG] Connection id "0HN3UCS3LKQJ5" sending FIN because: "The client closed the connection."
2024-05-27 19:07:49.397 +03:00 [DBG] Connection id "0HN3UCS3LKQJ6" sending FIN because: "The client closed the connection."
2024-05-27 19:07:49.404 +03:00 [DBG] Connection id "0HN3UCS3LKQJ5" disconnecting.
2024-05-27 19:07:49.410 +03:00 [DBG] Connection id "0HN3UCS3LKQJ6" disconnecting.
2024-05-27 19:07:49.414 +03:00 [DBG] Connection id "0HN3UCS3LKQJ5" stopped.
2024-05-27 19:07:49.414 +03:00 [DBG] Connection id "0HN3UCS3LKQJ6" stopped.
2024-05-27 19:08:06.489 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7" accepted.
2024-05-27 19:08:06.491 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7" started.
2024-05-27 19:08:06.493 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 19:08:06.512 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 19:08:06.519 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 19:08:06.523 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 19:08:06.526 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:08:06.599 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 19:08:06.603 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 19:08:06.640 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 19:08:06.644 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:08:06.646 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:08:06.648 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:08:06.651 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:08:06.654 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 19:08:06.659 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 19:08:06.816 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 19:08:07.729 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:08:07.733 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 19:08:07.741 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 19:08:07.747 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 19:08:07.750 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:08:07.780 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7", Request id "0HN3UCS3LKQJ7:00000001": started reading request body.
2024-05-27 19:08:07.782 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7", Request id "0HN3UCS3LKQJ7:00000001": done reading request body.
2024-05-27 19:08:07.789 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 19:08:07.792 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 19:08:07.794 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 19:08:07.796 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 19:08:07.810 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 19:08:07.925 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 19:08:08.157 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 19:08:08.220 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:08:08.224 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:08:08.252 +03:00 [DBG] Created DbConnection. (24ms).
2024-05-27 19:08:08.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2024-05-27 19:08:08.279 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (61ms).
2024-05-27 19:08:08.285 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:08:08.623 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:08:08.637 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 19:08:08.711 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 19:08:08.776 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:08:08.831 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:08:08.842 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 119ms reading results.
2024-05-27 19:08:08.849 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:08:08.857 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (8ms).
2024-05-27 19:08:08.910 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:08:08.917 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 19:08:08.918 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 19:08:08.921 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 19:08:08.924 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:08:08.927 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 19:08:08.952 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 2290.7022ms
2024-05-27 19:08:08.956 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 19:08:08.959 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7" completed keep alive response.
2024-05-27 19:08:08.965 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:08:08.970 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:08:08.975 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-05-27 19:08:08.981 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 2487.5647ms
2024-05-27 19:08:52.156 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7" received FIN.
2024-05-27 19:08:52.179 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7" disconnecting.
2024-05-27 19:08:52.181 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7" sending FIN because: "The client closed the connection."
2024-05-27 19:08:52.190 +03:00 [DBG] Connection id "0HN3UCS3LKQJ7" stopped.
2024-05-27 19:09:08.401 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8" accepted.
2024-05-27 19:09:08.405 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8" started.
2024-05-27 19:09:08.411 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 83
2024-05-27 19:09:08.416 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 19:09:08.418 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 19:09:08.424 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:08.425 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:09:08.494 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:09:08.497 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:09:08.506 +03:00 [DBG] Authorization was successful.
2024-05-27 19:09:08.507 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:08.514 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:09:08.517 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:09:08.521 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:09:08.523 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:09:08.527 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:09:08.528 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:09:08.531 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:09:08.616 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:09:08.619 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:09:08.621 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:09:08.623 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 19:09:08.627 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:09:08.632 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8", Request id "0HN3UCS3LKQJ8:00000001": started reading request body.
2024-05-27 19:09:08.634 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8", Request id "0HN3UCS3LKQJ8:00000001": done reading request body.
2024-05-27 19:09:08.637 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 19:09:08.639 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:08.641 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:08.645 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:09:08.650 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:08.709 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:09:08.752 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:09:08.761 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:09:08.765 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:09:08.786 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 19:09:08.884 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:09:08.885 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-27 19:09:08.887 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:08.890 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:08.894 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:09:08.895 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 19:09:08.898 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:09:08.900 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:09:08.909 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:09:08.926 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:08.928 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 15ms reading results.
2024-05-27 19:09:08.932 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:08.933 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:09:08.951 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'GL.Data.Contexts.GameLibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-27 19:09:09.158 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 626.412ms
2024-05-27 19:09:09.159 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:09.162 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UnitOfWork.SaveChangesAsync() in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UnitOfWork.cs:line 45
   at GL.ApplicationServices.Implementations.RatingsManagementService.CreateRating(CreateRatingRequest request) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\RatingsManagementService.cs:line 54
   at GL.WebAPI.Controllers.RatingsController.Create(RatingModel rating) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\RatingsController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-27 19:09:09.244 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8" completed keep alive response.
2024-05-27 19:09:09.247 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:09:09.249 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:09.252 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-27 19:09:09.255 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 83 - 500 - text/plain;+charset=utf-8 844.3122ms
2024-05-27 19:09:18.669 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 69
2024-05-27 19:09:18.670 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 19:09:18.672 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 19:09:18.675 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:18.705 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:09:18.710 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:09:18.711 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:09:18.714 +03:00 [DBG] Authorization was successful.
2024-05-27 19:09:18.716 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:18.717 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:09:18.722 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:09:18.724 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:09:18.726 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:09:18.729 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:09:18.731 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:09:18.733 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:09:18.750 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:09:18.754 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:09:18.755 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:09:18.758 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 19:09:18.761 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:09:18.763 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8", Request id "0HN3UCS3LKQJ8:00000002": started reading request body.
2024-05-27 19:09:18.764 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8", Request id "0HN3UCS3LKQJ8:00000002": done reading request body.
2024-05-27 19:09:18.784 +03:00 [DBG] JSON input formatter threw an exception: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $ | LineNumber: 3 | BytePositionInLine: 0.
2024-05-27 19:09:18.786 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:18.789 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:18.791 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:09:18.795 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:18.797 +03:00 [DBG] The request has model state errors, returning an error response.
2024-05-27 19:09:18.800 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-27 19:09:18.804 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:09:18.809 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:09:18.813 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:09:18.815 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-27 19:09:18.832 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 98.7497ms
2024-05-27 19:09:18.834 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:18.836 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8" completed keep alive response.
2024-05-27 19:09:18.838 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:09:18.839 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 69 - 400 - application/json;+charset=utf-8 170.4776ms
2024-05-27 19:09:24.356 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 68
2024-05-27 19:09:24.358 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 19:09:24.360 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 19:09:24.363 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:24.365 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:09:24.368 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:09:24.370 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:09:24.373 +03:00 [DBG] Authorization was successful.
2024-05-27 19:09:24.376 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:24.378 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:09:24.382 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:09:24.383 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:09:24.386 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:09:24.391 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:09:24.393 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:09:24.396 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:09:24.402 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:09:24.405 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:09:24.408 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:09:24.411 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 19:09:24.413 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:09:24.415 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8", Request id "0HN3UCS3LKQJ8:00000003": started reading request body.
2024-05-27 19:09:24.417 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8", Request id "0HN3UCS3LKQJ8:00000003": done reading request body.
2024-05-27 19:09:24.419 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 19:09:24.424 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:24.426 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:24.428 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:09:24.431 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:24.437 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:09:24.442 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:09:24.444 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:09:24.445 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:09:24.446 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 19:09:24.449 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:09:24.450 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 19:09:24.452 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:24.457 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:24.458 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:09:24.459 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 19:09:24.461 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:09:24.463 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:09:24.471 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:09:24.479 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:24.481 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-05-27 19:09:24.484 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:24.488 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-27 19:09:24.492 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'GL.Data.Contexts.GameLibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-27 19:09:24.667 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 271.029ms
2024-05-27 19:09:24.670 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:24.672 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UnitOfWork.SaveChangesAsync() in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UnitOfWork.cs:line 45
   at GL.ApplicationServices.Implementations.RatingsManagementService.CreateRating(CreateRatingRequest request) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\RatingsManagementService.cs:line 54
   at GL.WebAPI.Controllers.RatingsController.Create(RatingModel rating) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\RatingsController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-27 19:09:24.745 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8" completed keep alive response.
2024-05-27 19:09:24.747 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:09:24.750 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:24.753 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-27 19:09:24.754 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 68 - 500 - text/plain;+charset=utf-8 398.2363ms
2024-05-27 19:09:34.496 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 83
2024-05-27 19:09:34.500 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 19:09:34.504 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 19:09:34.511 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:34.513 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:09:34.521 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:09:34.524 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:09:34.526 +03:00 [DBG] Authorization was successful.
2024-05-27 19:09:34.528 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:34.532 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:09:34.535 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:09:34.538 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:09:34.539 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:09:34.543 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:09:34.545 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:09:34.550 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:09:34.553 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:09:34.555 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:09:34.557 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:09:34.559 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 19:09:34.564 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:09:34.567 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8", Request id "0HN3UCS3LKQJ8:00000004": started reading request body.
2024-05-27 19:09:34.569 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8", Request id "0HN3UCS3LKQJ8:00000004": done reading request body.
2024-05-27 19:09:34.571 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 19:09:34.573 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:34.575 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:34.579 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:09:34.582 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:09:34.584 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:09:34.587 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:09:34.589 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:09:34.592 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:09:34.594 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 19:09:34.596 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:09:34.596 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 19:09:34.598 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:34.600 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:34.602 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:09:34.603 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 19:09:34.605 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:09:34.610 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:09:34.618 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:09:34.627 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:34.629 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-05-27 19:09:34.632 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:34.636 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-27 19:09:34.640 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'GL.Data.Contexts.GameLibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-27 19:09:34.824 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 274.0731ms
2024-05-27 19:09:34.826 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:09:34.828 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Ratings_Users_UserId". The conflict occurred in database "GameLibraryDatabase", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1bf83428-3aaa-44a2-be3b-ae680bd691a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at GL.Repositories.Implementations.UnitOfWork.SaveChangesAsync() in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.Repositories\Implementations\UnitOfWork.cs:line 45
   at GL.ApplicationServices.Implementations.RatingsManagementService.CreateRating(CreateRatingRequest request) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GL.ApplicationServices\Implementations\RatingsManagementService.cs:line 54
   at GL.WebAPI.Controllers.RatingsController.Create(RatingModel rating) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Controllers\RatingsController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-27 19:09:34.901 +03:00 [DBG] Connection id "0HN3UCS3LKQJ8" completed keep alive response.
2024-05-27 19:09:34.903 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:09:34.907 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:09:34.910 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-27 19:09:34.912 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 83 - 500 - text/plain;+charset=utf-8 416.2755ms
2024-05-27 19:26:04.771 +03:00 [INF] Application is starting!
2024-05-27 19:26:05.689 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2024-05-27 19:26:05.801 +03:00 [DBG] Hosting starting
2024-05-27 19:26:05.846 +03:00 [INF] User profile is available. Using 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-27 19:26:05.852 +03:00 [DBG] Reading data from file 'C:\Users\shado\AppData\Local\ASP.NET\DataProtection-Keys\key-b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc.xml'.
2024-05-27 19:26:05.866 +03:00 [DBG] Found key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc}.
2024-05-27 19:26:05.883 +03:00 [DBG] Considering key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} with expiration date 2024-08-20 10:36:09Z as default key.
2024-05-27 19:26:05.888 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 19:26:05.893 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-27 19:26:05.895 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-27 19:26:05.902 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-27 19:26:05.905 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-27 19:26:05.908 +03:00 [DBG] Using key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} as the default key.
2024-05-27 19:26:05.909 +03:00 [DBG] Key ring with default key {b9e33d74-e2dd-48a1-a038-3b0a0b7c76cc} was loaded during application startup.
2024-05-27 19:26:06.072 +03:00 [INF] Now listening on: http://localhost:5105
2024-05-27 19:26:06.074 +03:00 [DBG] Loaded hosting startup assembly GL.WebAPI
2024-05-27 19:26:06.076 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-27 19:26:06.078 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-27 19:26:06.080 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-27 19:26:06.081 +03:00 [INF] Hosting environment: Development
2024-05-27 19:26:06.082 +03:00 [INF] Content root path: D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary
2024-05-27 19:26:06.084 +03:00 [DBG] Hosting started
2024-05-27 19:26:06.372 +03:00 [DBG] Connection id "0HN3UD6QQ3KNU" accepted.
2024-05-27 19:26:06.373 +03:00 [DBG] Connection id "0HN3UD6QQ3KNV" accepted.
2024-05-27 19:26:06.375 +03:00 [DBG] Connection id "0HN3UD6QQ3KNU" started.
2024-05-27 19:26:06.376 +03:00 [DBG] Connection id "0HN3UD6QQ3KNV" started.
2024-05-27 19:26:06.407 +03:00 [DBG] Connection id "0HN3UD6QQ3KNV" received FIN.
2024-05-27 19:26:06.407 +03:00 [DBG] Connection id "0HN3UD6QQ3KNU" received FIN.
2024-05-27 19:26:06.417 +03:00 [DBG] Connection id "0HN3UD6QQ3KNV" sending FIN because: "The client closed the connection."
2024-05-27 19:26:06.419 +03:00 [DBG] Connection id "0HN3UD6QQ3KNU" sending FIN because: "The client closed the connection."
2024-05-27 19:26:06.431 +03:00 [DBG] Connection id "0HN3UD6QQ3KNV" disconnecting.
2024-05-27 19:26:06.432 +03:00 [DBG] Connection id "0HN3UD6QQ3KNU" disconnecting.
2024-05-27 19:26:06.441 +03:00 [DBG] Connection id "0HN3UD6QQ3KNU" stopped.
2024-05-27 19:26:06.441 +03:00 [DBG] Connection id "0HN3UD6QQ3KNV" stopped.
2024-05-27 19:26:06.629 +03:00 [DBG] Connection id "0HN3UD6QQ3KO0" accepted.
2024-05-27 19:26:06.632 +03:00 [DBG] Connection id "0HN3UD6QQ3KO0" started.
2024-05-27 19:26:06.632 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" accepted.
2024-05-27 19:26:06.637 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" started.
2024-05-27 19:26:06.701 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/index.html - -
2024-05-27 19:26:06.739 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-27 19:26:06.779 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-27 19:26:06.780 +03:00 [DBG] Request did not match any endpoints
2024-05-27 19:26:06.932 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-27 19:26:07.070 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-27 19:26:07.072 +03:00 [DBG] Connection id "0HN3UD6QQ3KO0" completed keep alive response.
2024-05-27 19:26:07.077 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/index.html - - - 200 - text/html;charset=utf-8 379.6610ms
2024-05-27 19:26:07.247 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_vs/browserLink - -
2024-05-27 19:26:07.249 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - -
2024-05-27 19:26:07.258 +03:00 [DBG] Connection id "0HN3UD6QQ3KO0" completed keep alive response.
2024-05-27 19:26:07.261 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_framework/aspnetcore-browser-refresh.js - - - 200 11988 application/javascript;+charset=utf-8 11.3689ms
2024-05-27 19:26:07.280 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:26:07.282 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.0790ms
2024-05-27 19:26:08.578 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - -
2024-05-27 19:26:08.581 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-27 19:26:08.582 +03:00 [DBG] Request did not match any endpoints
2024-05-27 19:26:08.881 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:26:08.883 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 304.6714ms
2024-05-27 19:26:23.747 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51
2024-05-27 19:26:23.765 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-05-27 19:26:23.778 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-05-27 19:26:23.780 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 19:26:23.783 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:26:23.857 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-27 19:26:23.862 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 19:26:23.899 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GL.Infrastructure.Messaging.Requests.Users.LoginRequest) on controller GL.WebAPI.Controllers.AuthController (GL.WebAPI).
2024-05-27 19:26:23.903 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:26:23.905 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:26:23.907 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:26:23.910 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:26:23.913 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-27 19:26:23.918 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 19:26:24.080 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-27 19:26:24.989 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:26:24.994 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.AuthController (GL.WebAPI)
2024-05-27 19:26:25.002 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 19:26:25.007 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' using the name '' in request data ...
2024-05-27 19:26:25.010 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:26:25.037 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:00000003": started reading request body.
2024-05-27 19:26:25.039 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:00000003": done reading request body.
2024-05-27 19:26:25.046 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'
2024-05-27 19:26:25.048 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 19:26:25.052 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 19:26:25.055 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest' ...
2024-05-27 19:26:25.070 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Users.LoginRequest'.
2024-05-27 19:26:25.184 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Username == __username_0)'
2024-05-27 19:26:25.420 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedBy (int) Required, 1], [Property: User.CreatedOn (DateTime) Required, 2], [Property: User.Email (string) Required MaxLength(100), 3], [Property: User.IsActivated (bool) Required, 4], [Property: User.Password (string) Required MaxLength(100), 5], [Property: User.UpdatedBy (int?), 6], [Property: User.UpdatedOn (DateTime?), 7], [Property: User.Username (string) Required MaxLength(100), 8] }
            SELECT TOP(1) u.Id, u.CreatedBy, u.CreatedOn, u.Email, u.IsActivated, u.Password, u.UpdatedBy, u.UpdatedOn, u.Username
            FROM Users AS u
            WHERE u.Username == @__username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 19:26:25.485 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:26:25.489 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:26:25.518 +03:00 [DBG] Created DbConnection. (24ms).
2024-05-27 19:26:25.530 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2024-05-27 19:26:25.544 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (62ms).
2024-05-27 19:26:25.552 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:25.866 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:25.880 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 19:26:25.959 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedOn], [u].[Email], [u].[IsActivated], [u].[Password], [u].[UpdatedBy], [u].[UpdatedOn], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__username_0
2024-05-27 19:26:26.022 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:26:26.075 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:26.087 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 117ms reading results.
2024-05-27 19:26:26.093 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:26.103 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (9ms).
2024-05-27 19:26:26.244 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:26:26.251 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-27 19:26:26.252 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-27 19:26:26.253 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-27 19:26:26.256 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:26:26.258 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Users.AuthResponse'.
2024-05-27 19:26:26.279 +03:00 [INF] Executed action GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI) in 2359.4832ms
2024-05-27 19:26:26.282 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.AuthController.Login (GL.WebAPI)'
2024-05-27 19:26:26.285 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:26:26.288 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:26:26.292 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:26.295 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-05-27 19:26:26.299 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Auth/login application/json 51 - 200 - application/json;+charset=utf-8 2551.6095ms
2024-05-27 19:26:59.002 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 85
2024-05-27 19:26:59.022 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 19:26:59.024 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 19:26:59.028 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:26:59.030 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:26:59.093 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:26:59.096 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:26:59.106 +03:00 [DBG] Authorization was successful.
2024-05-27 19:26:59.108 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:26:59.115 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:26:59.118 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:26:59.121 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:26:59.122 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:26:59.126 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:26:59.127 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:26:59.130 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:26:59.207 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:26:59.210 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:26:59.212 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:26:59.214 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 19:26:59.217 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:26:59.222 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:00000004": started reading request body.
2024-05-27 19:26:59.223 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:00000004": done reading request body.
2024-05-27 19:26:59.227 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 19:26:59.228 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:26:59.231 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:26:59.237 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:26:59.244 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:26:59.297 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:26:59.344 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:26:59.354 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:26:59.359 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:26:59.386 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 19:26:59.496 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:26:59.498 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-27 19:26:59.500 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:59.503 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:59.508 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:26:59.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 19:26:59.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:26:59.515 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:26:59.539 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:26:59.557 +03:00 [DBG] The foreign key property 'Rating.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 19:26:59.570 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:59.571 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 28ms reading results.
2024-05-27 19:26:59.576 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:59.579 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (2ms).
2024-05-27 19:26:59.595 +03:00 [DBG] An entity of type 'Rating' tracked by 'GameLibraryDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:26:59.600 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-27 19:26:59.603 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:26:59.608 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:26:59.613 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:26:59.615 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.CreateRatingResponse'.
2024-05-27 19:26:59.620 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 489.8694ms
2024-05-27 19:26:59.622 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:26:59.623 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:26:59.628 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:26:59.630 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:26:59.633 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-27 19:26:59.635 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 85 - 200 - application/json;+charset=utf-8 632.2384ms
2024-05-27 19:27:54.194 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 81
2024-05-27 19:27:54.225 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 19:27:54.233 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 19:27:54.235 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:27:54.237 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:27:54.242 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:27:54.243 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:27:54.251 +03:00 [DBG] Authorization was successful.
2024-05-27 19:27:54.254 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:27:54.255 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:27:54.258 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:27:54.262 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:27:54.264 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:27:54.267 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:27:54.269 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:27:54.273 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:27:54.290 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:27:54.293 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:27:54.295 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:27:54.297 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 19:27:54.300 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:27:54.302 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:00000005": started reading request body.
2024-05-27 19:27:54.305 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:00000005": done reading request body.
2024-05-27 19:27:54.307 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 19:27:54.309 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:27:54.312 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:27:54.314 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:27:54.317 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:27:54.321 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:27:54.324 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:27:54.326 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:27:54.329 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:27:54.330 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 19:27:54.333 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:27:54.334 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 19:27:54.337 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:27:54.339 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:27:54.341 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:27:54.342 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 19:27:54.344 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:27:54.346 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:27:54.366 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:27:54.370 +03:00 [DBG] The foreign key property 'Rating.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 19:27:54.372 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:27:54.373 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-05-27 19:27:54.376 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:27:54.377 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:27:54.380 +03:00 [DBG] An entity of type 'Rating' tracked by 'GameLibraryDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:27:54.385 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-27 19:27:54.387 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:27:54.390 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:27:54.393 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:27:54.396 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.CreateRatingResponse'.
2024-05-27 19:27:54.401 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 127.7545ms
2024-05-27 19:27:54.403 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:27:54.405 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:27:54.407 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:27:54.408 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:27:54.410 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 19:27:54.413 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 81 - 200 - application/json;+charset=utf-8 220.0322ms
2024-05-27 19:28:55.154 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5105/api/Ratings/10 - -
2024-05-27 19:28:55.158 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings/10'
2024-05-27 19:28:55.160 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.DeleteRating (GL.WebAPI)' with route pattern 'api/Ratings/{id}' is valid for the request path '/api/Ratings/10'
2024-05-27 19:28:55.162 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.DeleteRating (GL.WebAPI)'
2024-05-27 19:28:55.164 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:28:55.165 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:28:55.166 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:28:55.169 +03:00 [DBG] Authorization was successful.
2024-05-27 19:28:55.170 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.DeleteRating (GL.WebAPI)'
2024-05-27 19:28:55.192 +03:00 [INF] Route matched with {action = "DeleteRating", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteRating(Int32) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:28:55.195 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:28:55.197 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:28:55.198 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:28:55.202 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:28:55.204 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:28:55.206 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:28:55.216 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:28:55.222 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:28:55.225 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-05-27 19:28:55.227 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-05-27 19:28:55.229 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-05-27 19:28:55.230 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-05-27 19:28:55.232 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-05-27 19:28:55.234 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-05-27 19:28:55.261 +03:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-05-27 19:28:55.276 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Rating>(
    asyncEnumerable: new SingleQueryingEnumerable<Rating>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rating.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rating.CreatedBy (int) Required, 1], [Property: Rating.CreatedOn (DateTime) Required, 2], [Property: Rating.Description (string) MaxLength(300), 3], [Property: Rating.IsActivated (bool) Required, 4], [Property: Rating.Name (string) Required MaxLength(100), 5], [Property: Rating.UpdatedBy (int?), 6], [Property: Rating.UpdatedOn (DateTime?), 7], [Property: Rating.UserId (int) Required FK Index, 8] }
            SELECT TOP(1) r.Id, r.CreatedBy, r.CreatedOn, r.Description, r.IsActivated, r.Name, r.UpdatedBy, r.UpdatedOn, r.UserId
            FROM Ratings AS r
            WHERE r.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rating>, 
        GL.Data.Contexts.GameLibraryDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-27 19:28:55.282 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:28:55.285 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:28:55.287 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-27 19:28:55.288 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-27 19:28:55.290 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-05-27 19:28:55.291 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.293 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.295 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[Id] = @__p_0
2024-05-27 19:28:55.302 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[Id] = @__p_0
2024-05-27 19:28:55.311 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:28:55.314 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.316 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-05-27 19:28:55.319 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.320 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:28:55.327 +03:00 [DBG] An entity of type 'Rating' tracked by 'GameLibraryDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:28:55.331 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:28:55.333 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:28:55.335 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 19:28:55.343 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.345 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.346 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:28:55.349 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-27 19:28:55.351 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-27 19:28:55.352 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Ratings]
OUTPUT 1
WHERE [Id] = @p0;
2024-05-27 19:28:55.360 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Ratings]
OUTPUT 1
WHERE [Id] = @p0;
2024-05-27 19:28:55.367 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.368 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-05-27 19:28:55.370 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.372 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:28:55.377 +03:00 [DBG] An entity of type 'Rating' tracked by 'GameLibraryDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:28:55.381 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-27 19:28:55.383 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:28:55.386 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:28:55.390 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:28:55.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.DeleteRatingResponse'.
2024-05-27 19:28:55.397 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.DeleteRating (GL.WebAPI) in 190.5705ms
2024-05-27 19:28:55.398 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.DeleteRating (GL.WebAPI)'
2024-05-27 19:28:55.400 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:28:55.401 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:28:55.405 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:28:55.406 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 19:28:55.408 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5105/api/Ratings/10 - - - 200 - application/json;+charset=utf-8 254.0654ms
2024-05-27 19:29:20.354 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 69
2024-05-27 19:29:20.356 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 19:29:20.359 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 19:29:20.361 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:29:20.363 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:29:20.364 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:29:20.365 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:29:20.367 +03:00 [DBG] Authorization was successful.
2024-05-27 19:29:20.370 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:29:20.371 +03:00 [INF] Route matched with {action = "Create", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:29:20.375 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:29:20.377 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:29:20.379 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:29:20.382 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:29:20.386 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:29:20.388 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:29:20.391 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:29:20.394 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:29:20.395 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:29:20.398 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 19:29:20.402 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:29:20.405 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:00000007": started reading request body.
2024-05-27 19:29:20.407 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:00000007": done reading request body.
2024-05-27 19:29:20.408 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 19:29:20.411 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:29:20.413 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:29:20.417 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:29:20.420 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:29:20.422 +03:00 [DBG] 'GameLibraryDbContext' generated a temporary value for the property 'Id.Rating'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:29:20.425 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:29:20.429 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:29:20.430 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:29:20.432 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 19:29:20.434 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:29:20.435 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-27 19:29:20.436 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:20.438 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:20.439 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:29:20.441 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 19:29:20.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:29:20.448 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:29:20.469 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 300), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([CreatedBy], [CreatedOn], [Description], [IsActivated], [Name], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-27 19:29:20.478 +03:00 [DBG] The foreign key property 'Rating.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 19:29:20.480 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:20.482 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-05-27 19:29:20.484 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:20.486 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:29:20.488 +03:00 [DBG] An entity of type 'Rating' tracked by 'GameLibraryDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:29:20.494 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-27 19:29:20.496 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:29:20.499 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:29:20.503 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:29:20.505 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.CreateRatingResponse'.
2024-05-27 19:29:20.513 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI) in 124.0444ms
2024-05-27 19:29:20.514 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Create (GL.WebAPI)'
2024-05-27 19:29:20.516 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:29:20.517 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:29:20.519 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:20.521 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 19:29:20.523 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings application/json 69 - 200 - application/json;+charset=utf-8 198.0944ms
2024-05-27 19:29:54.955 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Ratings - -
2024-05-27 19:29:54.956 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings'
2024-05-27 19:29:54.958 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)' with route pattern 'api/Ratings' is valid for the request path '/api/Ratings'
2024-05-27 19:29:54.962 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 19:29:54.964 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:29:54.965 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:29:54.967 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:29:54.968 +03:00 [DBG] Authorization was successful.
2024-05-27 19:29:54.972 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 19:29:54.977 +03:00 [INF] Route matched with {action = "Get", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:29:54.980 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:29:54.982 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:29:54.984 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:29:54.989 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:29:54.991 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:29:54.994 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:29:54.996 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:29:54.999 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:29:55.012 +03:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Where(x => x.IsActivated == __isActive_Value_0)'
2024-05-27 19:29:55.019 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rating>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rating.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rating.CreatedBy (int) Required, 1], [Property: Rating.CreatedOn (DateTime) Required, 2], [Property: Rating.Description (string) MaxLength(300), 3], [Property: Rating.IsActivated (bool) Required, 4], [Property: Rating.Name (string) Required MaxLength(100), 5], [Property: Rating.UpdatedBy (int?), 6], [Property: Rating.UpdatedOn (DateTime?), 7], [Property: Rating.UserId (int) Required FK Index, 8] }
        SELECT r.Id, r.CreatedBy, r.CreatedOn, r.Description, r.IsActivated, r.Name, r.UpdatedBy, r.UpdatedOn, r.UserId
        FROM Ratings AS r
        WHERE r.IsActivated == @__isActive_Value_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rating>, 
    GL.Data.Contexts.GameLibraryDbContext, 
    False, 
    False, 
    True
)'
2024-05-27 19:29:55.024 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:29:55.025 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:29:55.027 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-27 19:29:55.028 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:29:55.030 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-27 19:29:55.031 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:55.036 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:55.037 +03:00 [DBG] Executing DbCommand [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 19:29:55.045 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 19:29:55.053 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:29:55.057 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:29:55.059 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:55.063 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-05-27 19:29:55.065 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:55.067 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:29:55.070 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:29:55.073 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:29:55.079 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:29:55.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.GetRatingsResponse'.
2024-05-27 19:29:55.094 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI) in 100.4807ms
2024-05-27 19:29:55.096 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Get (GL.WebAPI)'
2024-05-27 19:29:55.098 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:29:55.099 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:29:55.101 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:29:55.102 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 19:29:55.105 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Ratings - - - 200 - application/json;+charset=utf-8 149.4870ms
2024-05-27 19:30:12.617 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Ratings/11 - -
2024-05-27 19:30:12.618 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings/11'
2024-05-27 19:30:12.620 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI)' with route pattern 'api/Ratings/{id}' is valid for the request path '/api/Ratings/11'
2024-05-27 19:30:12.623 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI)'
2024-05-27 19:30:12.625 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:30:12.627 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:30:12.629 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:30:12.630 +03:00 [DBG] Authorization was successful.
2024-05-27 19:30:12.632 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI)'
2024-05-27 19:30:12.643 +03:00 [INF] Route matched with {action = "GetById", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:30:12.646 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:30:12.647 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:30:12.649 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:30:12.652 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:30:12.654 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:30:12.659 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:30:12.662 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:30:12.664 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:30:12.665 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-05-27 19:30:12.667 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-05-27 19:30:12.669 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:12.671 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:12.675 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-05-27 19:30:12.676 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:12.685 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:30:12.686 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:30:12.689 +03:00 [DBG] Created DbConnection. (2ms).
2024-05-27 19:30:12.690 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-27 19:30:12.692 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-05-27 19:30:12.693 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:12.695 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:12.697 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[Id] = @__p_0
2024-05-27 19:30:12.702 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[Id] = @__p_0
2024-05-27 19:30:12.709 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:30:12.711 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:12.712 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-05-27 19:30:12.715 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:12.716 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:30:12.719 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:30:12.725 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:30:12.728 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:30:12.730 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.GetRatingByIdResponse'.
2024-05-27 19:30:12.734 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI) in 74.7179ms
2024-05-27 19:30:12.738 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI)'
2024-05-27 19:30:12.739 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:30:12.741 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:30:12.742 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:12.744 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 19:30:12.746 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Ratings/11 - - - 200 - application/json;+charset=utf-8 129.4700ms
2024-05-27 19:30:18.220 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5105/api/Ratings/12 - -
2024-05-27 19:30:18.222 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings/12'
2024-05-27 19:30:18.224 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI)' with route pattern 'api/Ratings/{id}' is valid for the request path '/api/Ratings/12'
2024-05-27 19:30:18.226 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI)'
2024-05-27 19:30:18.228 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:30:18.230 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:30:18.232 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:30:18.234 +03:00 [DBG] Authorization was successful.
2024-05-27 19:30:18.235 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI)'
2024-05-27 19:30:18.238 +03:00 [INF] Route matched with {action = "GetById", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:30:18.244 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:30:18.246 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:30:18.248 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:30:18.251 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:30:18.255 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:30:18.258 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:30:18.260 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:30:18.262 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:30:18.264 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-05-27 19:30:18.265 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-05-27 19:30:18.267 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:18.272 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:18.273 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-05-27 19:30:18.275 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:18.277 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:30:18.278 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:30:18.280 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-27 19:30:18.281 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:30:18.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-27 19:30:18.286 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:18.288 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:18.290 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[Id] = @__p_0
2024-05-27 19:30:18.295 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[Id] = @__p_0
2024-05-27 19:30:18.305 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:30:18.307 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:18.308 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-05-27 19:30:18.311 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:18.312 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:30:18.314 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:30:18.320 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:30:18.324 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:30:18.326 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.GetRatingByIdResponse'.
2024-05-27 19:30:18.328 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI) in 70.8028ms
2024-05-27 19:30:18.330 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.GetById (GL.WebAPI)'
2024-05-27 19:30:18.334 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:30:18.335 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:30:18.337 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:18.339 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 19:30:18.341 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5105/api/Ratings/12 - - - 200 - application/json;+charset=utf-8 121.2718ms
2024-05-27 19:30:53.257 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5105/api/Ratings/11 application/json 62
2024-05-27 19:30:53.266 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings/11'
2024-05-27 19:30:53.268 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Update (GL.WebAPI)' with route pattern 'api/Ratings/{id}' is valid for the request path '/api/Ratings/11'
2024-05-27 19:30:53.273 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Update (GL.WebAPI)'
2024-05-27 19:30:53.274 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:30:53.276 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:30:53.277 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:30:53.279 +03:00 [DBG] Authorization was successful.
2024-05-27 19:30:53.280 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Update (GL.WebAPI)'
2024-05-27 19:30:53.290 +03:00 [INF] Route matched with {action = "Update", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, GL.Infrastructure.Messaging.Requests.Ratings.RatingModel) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:30:53.293 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:30:53.296 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:30:53.298 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:30:53.302 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:30:53.304 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:30:53.307 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:30:53.309 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:30:53.316 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:30:53.318 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-05-27 19:30:53.320 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-05-27 19:30:53.323 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:53.324 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:53.328 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-05-27 19:30:53.329 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-05-27 19:30:53.331 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:30:53.333 +03:00 [DBG] Attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' using the name '' in request data ...
2024-05-27 19:30:53.336 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:30:53.338 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:0000000B": started reading request body.
2024-05-27 19:30:53.340 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:0000000B": done reading request body.
2024-05-27 19:30:53.344 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'
2024-05-27 19:30:53.346 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:30:53.348 +03:00 [DBG] Done attempting to bind parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:30:53.350 +03:00 [DBG] Attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel' ...
2024-05-27 19:30:53.353 +03:00 [DBG] Done attempting to validate the bound parameter 'rating' of type 'GL.Infrastructure.Messaging.Requests.Ratings.RatingModel'.
2024-05-27 19:30:53.358 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:30:53.360 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:30:53.362 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-27 19:30:53.363 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-27 19:30:53.365 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-05-27 19:30:53.366 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.368 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.370 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[Id] = @__p_0
2024-05-27 19:30:53.378 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[Id] = @__p_0
2024-05-27 19:30:53.382 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:30:53.384 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.387 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-05-27 19:30:53.392 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.393 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-05-27 19:30:53.398 +03:00 [DBG] The unchanged property 'Rating.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 19:30:53.400 +03:00 [DBG] An entity of type 'Rating' tracked by 'GameLibraryDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:30:53.403 +03:00 [DBG] The unchanged property 'Rating.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 19:30:53.408 +03:00 [DBG] The unchanged property 'Rating.UpdatedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 19:30:53.410 +03:00 [DBG] The unchanged property 'Rating.UpdatedOn' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-27 19:30:53.414 +03:00 [DBG] SaveChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:30:53.415 +03:00 [DBG] DetectChanges starting for 'GameLibraryDbContext'.
2024-05-27 19:30:53.416 +03:00 [DBG] DetectChanges completed for 'GameLibraryDbContext'.
2024-05-27 19:30:53.421 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.424 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.426 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:30:53.427 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-27 19:30:53.429 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-27 19:30:53.430 +03:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 300), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ratings] SET [Description] = @p0, [IsActivated] = @p1, [Name] = @p2, [UpdatedBy] = @p3, [UpdatedOn] = @p4, [UserId] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-05-27 19:30:53.439 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 300), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Ratings] SET [Description] = @p0, [IsActivated] = @p1, [Name] = @p2, [UpdatedBy] = @p3, [UpdatedOn] = @p4, [UserId] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-05-27 19:30:53.443 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.445 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-05-27 19:30:53.447 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.451 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-27 19:30:53.457 +03:00 [DBG] An entity of type 'Rating' tracked by 'GameLibraryDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:30:53.459 +03:00 [DBG] SaveChanges completed for 'GameLibraryDbContext' with 1 entities written to the database.
2024-05-27 19:30:53.461 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:30:53.464 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:30:53.470 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:30:53.472 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.UpdateRatingResponse'.
2024-05-27 19:30:53.476 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Update (GL.WebAPI) in 168.8548ms
2024-05-27 19:30:53.477 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Update (GL.WebAPI)'
2024-05-27 19:30:53.479 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:30:53.480 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:30:53.484 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:30:53.486 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-27 19:30:53.488 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5105/api/Ratings/11 application/json 62 - 200 - application/json;+charset=utf-8 230.5385ms
2024-05-27 19:31:08.634 +03:00 [DBG] Connection id "0HN3UD6QQ3KO0" received FIN.
2024-05-27 19:31:08.636 +03:00 [DBG] Connection id "0HN3UD6QQ3KO0" disconnecting.
2024-05-27 19:31:08.643 +03:00 [DBG] Connection id "0HN3UD6QQ3KO0" sending FIN because: "The client closed the connection."
2024-05-27 19:31:08.654 +03:00 [DBG] Connection id "0HN3UD6QQ3KO0" stopped.
2024-05-27 19:31:25.528 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5105/api/Ratings/search application/json 28
2024-05-27 19:31:25.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Ratings/search'
2024-05-27 19:31:25.532 +03:00 [DBG] Endpoint 'GL.WebAPI.Controllers.RatingsController.Search (GL.WebAPI)' with route pattern 'api/Ratings/search' is valid for the request path '/api/Ratings/search'
2024-05-27 19:31:25.562 +03:00 [DBG] Request matched endpoint 'GL.WebAPI.Controllers.RatingsController.Search (GL.WebAPI)'
2024-05-27 19:31:25.564 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-27 19:31:25.567 +03:00 [DBG] Successfully validated the token.
2024-05-27 19:31:25.576 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-27 19:31:25.578 +03:00 [DBG] Authorization was successful.
2024-05-27 19:31:25.579 +03:00 [INF] Executing endpoint 'GL.WebAPI.Controllers.RatingsController.Search (GL.WebAPI)'
2024-05-27 19:31:25.585 +03:00 [INF] Route matched with {action = "Search", controller = "Ratings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(GL.Infrastructure.Messaging.Requests.Ratings.SearchRatingsRequest) on controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI).
2024-05-27 19:31:25.588 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-27 19:31:25.590 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-27 19:31:25.592 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-27 19:31:25.595 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-27 19:31:25.597 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-05-27 19:31:25.602 +03:00 [DBG] Executing controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:31:25.604 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'GameLibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: MigrationsAssembly=GL.WebAPI 
2024-05-27 19:31:25.607 +03:00 [DBG] Executed controller factory for controller GL.WebAPI.Controllers.RatingsController (GL.WebAPI)
2024-05-27 19:31:25.608 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Ratings.SearchRatingsRequest' ...
2024-05-27 19:31:25.611 +03:00 [DBG] Attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Ratings.SearchRatingsRequest' using the name '' in request data ...
2024-05-27 19:31:25.615 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-27 19:31:25.618 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:0000000C": started reading request body.
2024-05-27 19:31:25.619 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1", Request id "0HN3UD6QQ3KO1:0000000C": done reading request body.
2024-05-27 19:31:25.621 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'GL.Infrastructure.Messaging.Requests.Ratings.SearchRatingsRequest'
2024-05-27 19:31:25.623 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Ratings.SearchRatingsRequest'.
2024-05-27 19:31:25.627 +03:00 [DBG] Done attempting to bind parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Ratings.SearchRatingsRequest'.
2024-05-27 19:31:25.629 +03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Ratings.SearchRatingsRequest' ...
2024-05-27 19:31:25.632 +03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'GL.Infrastructure.Messaging.Requests.Ratings.SearchRatingsRequest'.
2024-05-27 19:31:25.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-27 19:31:25.638 +03:00 [DBG] Creating DbConnection.
2024-05-27 19:31:25.642 +03:00 [DBG] Created DbConnection. (3ms).
2024-05-27 19:31:25.643 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-27 19:31:25.645 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-05-27 19:31:25.646 +03:00 [DBG] Opening connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:31:25.648 +03:00 [DBG] Opened connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:31:25.649 +03:00 [DBG] Executing DbCommand [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 19:31:25.656 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[Description], [r].[IsActivated], [r].[Name], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [Ratings] AS [r]
WHERE [r].[IsActivated] = @__isActive_Value_0
2024-05-27 19:31:25.661 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:31:25.663 +03:00 [DBG] Context 'GameLibraryDbContext' started tracking 'Rating' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-27 19:31:25.665 +03:00 [DBG] Closing data reader to 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:31:25.667 +03:00 [DBG] A data reader for 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-05-27 19:31:25.670 +03:00 [DBG] Closing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:31:25.673 +03:00 [DBG] Closed connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB' (3ms).
2024-05-27 19:31:25.677 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-27 19:31:25.680 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-27 19:31:25.683 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-27 19:31:25.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'GL.Infrastructure.Messaging.Responses.Ratings.SearchRatingsResponse'.
2024-05-27 19:31:25.691 +03:00 [INF] Executed action GL.WebAPI.Controllers.RatingsController.Search (GL.WebAPI) in 89.2897ms
2024-05-27 19:31:25.693 +03:00 [INF] Executed endpoint 'GL.WebAPI.Controllers.RatingsController.Search (GL.WebAPI)'
2024-05-27 19:31:25.694 +03:00 [DBG] Connection id "0HN3UD6QQ3KO1" completed keep alive response.
2024-05-27 19:31:25.696 +03:00 [DBG] 'GameLibraryDbContext' disposed.
2024-05-27 19:31:25.697 +03:00 [DBG] Disposing connection to database 'GameLibraryDatabase' on server '(LocalDb)\MSSQLLocalDB'.
2024-05-27 19:31:25.699 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-27 19:31:25.701 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5105/api/Ratings/search application/json 28 - 200 - application/json;+charset=utf-8 173.3030ms
2024-05-27 20:12:50.511 +03:00 [INF] Application is starting!
2024-05-27 20:12:50.752 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
2024-05-27 20:13:13.178 +03:00 [INF] Application is starting!
2024-05-27 20:13:13.427 +03:00 [FTL] Unhandled exception!
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Uni stuff\Razpredeleni Prilojeniq\Project\GameLibrary\GameLibrary\Program.cs:line 144
